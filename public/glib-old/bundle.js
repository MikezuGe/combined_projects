!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=64)}([function(e,t,n){"use strict";var r=n(12),o=n(55),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);Object.defineProperty(t,"Color",{enumerable:!0,get:function(){return c(r).default}});var o=n(33);Object.defineProperty(t,"Vec2",{enumerable:!0,get:function(){return c(o).default}});var i=n(32);Object.defineProperty(t,"Vec3",{enumerable:!0,get:function(){return c(i).default}});var a=n(31);Object.defineProperty(t,"Mat3",{enumerable:!0,get:function(){return c(a).default}});var u=n(30);Object.defineProperty(t,"Mat4",{enumerable:!0,get:function(){return c(u).default}});var s=n(29);Object.defineProperty(t,"Quat",{enumerable:!0,get:function(){return c(s).default}});var f=n(28);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Easing",{enumerable:!0,get:function(){return c(f).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t}return r(e,[{key:"remove",value:function(){throw new Error("Implement 'remove' function for resource: "+this.constructor.name+".")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canvas=void 0;var r=n(7),o=document.getElementById("canvas");o||(t.canvas=o=document.createElement("canvas"),document.getElementById("root").appendChild(o));var i=o.getContext("webgl2");(o.resize=function(){o.width=window.innerWidth,o.height=window.innerHeight})(),(i.resize=function(){i.viewport(0,0,window.innerWidth,window.innerHeight)})(),r.windowResizeEvent.subscribe(o.resize,i.resize),t.canvas=o,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t}return r(e,[{key:"remove",value:function(){this.removeReferences(),this.node.removeComponent(this)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(3)),a=n(1),u=f(n(2)),s=f(n(27));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.geometries=[],n.attributes=[],n.vertexSize=null,n.vertexBuffer=null,n.indiceBuffer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,null,[{key:"parse",value:function(e,t){var n=[],o=[],u=[],f=[],l=[],h=[],m=[],d=[],p=[],y=/^(\w+) (.+)$/gm,v=/-?\d+\.\d+/g,b=/\d+/g,w="";if("object"===(void 0===t?"undefined":r(t))){for(var g=t.vertexData.length,_=0;_<g;_+=2)n.push(t.vertexData[_+0]),o.push(t.vertexData[_+1]);h.push.apply(h,c(t.indices))}else for(var x={v:function(e){n.push(new(Function.prototype.bind.apply(a.Vec3,[null].concat(c(e[2].match(v).map(parseFloat))))))},vt:function(e){o.push(new(Function.prototype.bind.apply(a.Vec2,[null].concat(c(e[2].match(v).map(parseFloat))))))},vn:function(e){u.push(new(Function.prototype.bind.apply(a.Vec3,[null].concat(c(e[2].match(v).map(parseFloat))))))},f:function(e){h.push.apply(h,c(e[2].match(b).map(function(e){return parseInt(e,10)-1})))},g:function(e){h.push(e[2])},"#":function(e){},o:function(e){},usemtl:function(e){},s:function(e){},mtllib:function(e){}};w=y.exec(t);)try{x[w[1]](w)}catch(e){throw new Error("Failed at parsing mesh file row.",w,e)}n.length&&d.push("a_position");var k=!!o.length;if(k&&d.push("a_texcoord"),function(e,t,n){var r=0,o=n?9:6,i=/[a-z_]+(?:\.\w+)?/i;e.push(new s.default(0,null)),i.test(t[0])&&t.splice(0,1);for(var a=0;a<t.length;a+=o)i.test(t[a])?(t.splice(a,1),e[e.length-1].vertexCount=3*r,e.push(new s.default(3*a,null)),r=0,a-=1):r+=1;e[e.length-1].vertexCount=3*r}(m,h,k),m.forEach(function(t){t.mesh=e}),u.length||function(e,t,n,r){if(t&&t.length>0)if(r)for(var o=t.length/2*3,i=0;i<o;i+=9){var a=i/9;e.push(n[t[i+0]].getNormal(n[t[i+2]],n[t[i+4]])),t.splice(i+2,0,a),t.splice(i+5,0,a),t.splice(i+8,0,a)}else for(var u=2*t.length,s=0;s<u;s+=6){var f=s/6;e.push(n[t[s+0]].getNormal(n[t[s+1]],n[t[s+2]])),t.splice(s+1,0,f),t.splice(s+3,0,f),t.splice(s+5,0,f)}else for(var c=n.length,l=0;l<c;l+=3){var h=n[l+0].getNormal(n[l+1],n[l+2]);e.push(h,h,h)}}(u,h,n,k),d.push("a_normal"),k&&(!function(e,t,n,r,o){for(var i=o.length/3*5,u=0;u<i;u+=15){var s=n[o[u+0]],f=n[o[u+3]],c=n[o[u+6]],l=r[o[u+1]],h=r[o[u+4]],m=r[o[u+7]],d=f.x-s.x,p=c.x-s.x,y=f.y-s.y,v=c.y-s.y,b=f.z-s.z,w=c.z-s.z,g=h.x-l.x,_=m.x-l.x,x=h.y-l.y,k=m.y-l.y,T=1/(g*k-_*x),E=new a.Vec3((k*d-x*p)*T,(k*y-x*v)*T,(k*b-x*w)*T).normalize,O=new a.Vec3((g*p-_*d)*T,(g*v-_*y)*T,(g*w-_*b)*T).normalize;e.push(E),t.push(O);var S=u/15;o.splice(u+3,0,S,S),o.splice(u+8,0,S,S),o.splice(u+13,0,S,S)}}(f,l,n,o,h),d.push("a_tangent","a_bitangent")),o)for(var T=h.length,E=0;E<T;E+=5)p.push.apply(p,c(n[h[E+0]].toArray)),p.push.apply(p,c(o[h[E+1]].toArray)),p.push.apply(p,c(u[h[E+2]].toArray)),p.push.apply(p,c(f[h[E+3]].toArray)),p.push.apply(p,c(l[h[E+4]].toArray));else for(var O=h.length,S=0;S<O;S+=2)p.push.apply(p,c(n[h[S+0]].toArray)),p.push.apply(p,c(u[h[S+2]].toArray));var j=function(e,t){var n=i.default.createBuffer();i.default.bindBuffer(i.default.ARRAY_BUFFER,n),i.default.bufferData(i.default.ARRAY_BUFFER,e,i.default.STATIC_DRAW);var r=i.default.createBuffer();return i.default.bindBuffer(i.default.ELEMENT_ARRAY_BUFFER,r),i.default.bufferData(i.default.ELEMENT_ARRAY_BUFFER,t,i.default.STATIC_DRAW),{vertexBuffer:n,indiceBuffer:r}}(new Float32Array(p),new Int16Array(h));e.geometries=m,e.attributes=function(e){var t=[],n=0;return e.forEach(function(e){switch(e){case"a_position":t.push({name:"a_position",vertices:3,offset:n}),n+=3;break;case"a_texcoord":t.push({name:"a_texcoord",vertices:2,offset:n}),n+=2;break;case"a_normal":t.push({name:"a_normal",vertices:3,offset:n}),n+=3;break;case"a_tangent":t.push({name:"a_tangent",vertices:3,offset:n}),n+=3;break;case"a_bitangent":t.push({name:"a_bitangent",vertices:3,offset:n}),n+=3;break;default:throw new Error("Unknown mesh attribute name: "+e)}}),t}(d),e.vertexSize=function(e){var t=0;return e.forEach(function(e){switch(e){case"a_position":t+=3;break;case"a_texcoord":t+=2;break;case"a_normal":case"a_tangent":case"a_bitangent":t+=3;break;default:throw new Error("Unknown mesh attribute: "+e)}}),t}(d),e.vertexBuffer=j.vertexBuffer,e.indiceBuffer=j.indiceBuffer}}]),t}();t.default=l},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(52),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,s={adapter:("undefined"!=typeof XMLHttpRequest?u=n(11):void 0!==t&&(u=n(11)),u),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(i)}),e.exports=s}).call(this,n(53))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t||null,this.element=t&&(n||window)||null,this.listener=null,this.subscribers=[],this.invoker=null,this.enableInvoke=null===this.type,this.createListener(r||!1,o||!1)}return r(e,[{key:"createListener",value:function(e,t){var n=this;this.enableInvoke?this.invoker=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.subscribers.forEach(function(e){e.apply(void 0,t)})}:(this.invoker=e&&t?function(e){e.preventDefault(),e.stopPropagation(),n.subscribers.forEach(function(t){t(e)})}:e?function(e){e.preventDefault(),n.subscribers.forEach(function(t){t(e)})}:t?function(e){e.stopPropagation(),n.subscribers.forEach(function(t){t(e)})}:function(e){n.subscribers.forEach(function(t){t(e)})},this.element.addEventListener(this.type,this.invoker,!1))}},{key:"invoke",value:function(){this.enableInvoke&&this.invoker()}},{key:"subscribe",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){e.subscribers.push(t)})}},{key:"unsubscribe",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){var n=e.subscribers.indexOf(t);-1!==n&&e.subscribers.splice(n,1)})}}]),e}();t.default=o;var i=new o("resize",window,!0,!0),a=new o("keydown",window,!1,!0),u=new o("keyup",window,!0,!0),s=new o("mousedown",window,!0,!0),f=new o("mouseup",window,!0,!0),c=new o("mousemove",window,!0,!0),l=new o("wheel",window,!1,!0),h=new o("contextmenu",window,!1,!0);t.windowResizeEvent=i,t.windowKeyDownEvent=a,t.windowKeyUpEvent=u,t.windowMouseDownEvent=s,t.windowMouseUpEvent=f,t.windowMouseMoveEvent=c,t.windowWheelEvent=l,t.windowContextMenuEvent=h},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(0),o=n(51),i=n(49),a=n(48),u=n(47),s=n(10),f="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(46);e.exports=function(e){return new Promise(function(t,c){var l=e.data,h=e.headers;r.isFormData(l)&&delete h["Content-Type"];var m=new XMLHttpRequest,d="onreadystatechange",p=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||u(e.url)||(m=new window.XDomainRequest,d="onload",p=!0,m.onprogress=function(){},m.ontimeout=function(){}),e.auth){var y=e.auth.username||"",v=e.auth.password||"";h.Authorization="Basic "+f(y+":"+v)}if(m.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m[d]=function(){if(m&&(4===m.readyState||p)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?a(m.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:n,config:e,request:m};o(t,c,r),m=null}},m.onerror=function(){c(s("Network Error",e,null,m)),m=null},m.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var b=n(45),w=(e.withCredentials||u(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;w&&(h[e.xsrfHeaderName]=w)}if("setRequestHeader"in m&&r.forEach(h,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete h[t]:m.setRequestHeader(t,e)}),e.withCredentials&&(m.withCredentials=!0),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),c(e),m=null)}),void 0===l&&(l=null),m.send(l)})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(3),i=(r=o)&&r.__esModule?r:{default:r};var a=function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u.call(this),!r)throw new Error("Shader program must have a key!");this.key=r||null,this.program=null,this.attributeLocations={},this.uniformLocations={},this.source=t||null,this.defines=n||null};a.createShaderProgramKey=function(e,t){return e+"("+t.map(function(e,t){return t+"="+e+";"})+")"};var u=function(){var e=this;this.buildFromDefines=function(){if(!e.defines)throw new Error("No definitions found and/or provided for building a shader");e.program=e.createShaderProgram(e.source,e.defines),e.attributeLocations=e.getAttributeLocations(e.program),e.uniformLocations=e.getUniformLocations(e.program)},this.createShaderProgram=function(t,n){var r=i.default.createProgram();if(i.default.attachShader(r,e.createShader(t,n,i.default.VERTEX_SHADER)),i.default.attachShader(r,e.createShader(t,n,i.default.FRAGMENT_SHADER)),i.default.linkProgram(r),!i.default.getProgramParameter(r,i.default.LINK_STATUS))throw i.default.deleteProgram(r),new Error("Couldn't link shader program: "+i.default.getProgramInfoLog(r));return r},this.createShader=function(t,n,r){var o=e.createDefineKeys(t,n,r),a=i.default.createShader(r);if(i.default.shaderSource(a,o),i.default.compileShader(a),!i.default.getShaderParameter(a,i.default.COMPILE_STATUS))throw i.default.deleteShader(a),new Error("Failed to compile shader: "+i.default.getShaderInfoLog(a));return a},this.createDefineKeys=function(e,t,n){var r="#version 300 es\n";if(!n)throw new Error("Type of shader is invalid: "+n);return r+=n===i.default.VERTEX_SHADER?"#define VERTEX\n":"#define FRAGMENT\n",t.forEach(function(e,t){r+="#define "+t+" "+(e?" = "+e+"\n":"\n")}),r+"#line 1\n"+e},this.getAttributeLocations=function(e){for(var t={},n=i.default.getProgramParameter(e,i.default.ACTIVE_ATTRIBUTES),r=0;r<n;r+=1){var o=i.default.getActiveAttrib(e,r).name;t[o]=i.default.getAttribLocation(e,o)}return t},this.getUniformLocations=function(e){for(var t={},n=i.default.getProgramParameter(e,i.default.ACTIVE_UNIFORMS),r=0;r<n;r+=1){var o=i.default.getActiveUniform(e,r).name;t[o]=i.default.getUniformLocation(e,o)}return t}};t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.GeometryBatch=function e(t,n,o){r(this,e),this.geometry=t||null,this.material=n||null,this.worldTransforms=[o]},t.LightBatch=function e(t,n,o,i,a,u,s){r(this,e),this.type=t||null,this.color=[n],this.range=[o],this.diffuseStrength=[i],this.specularStrength=[a],this.shininess=[u],this.worldTransforms=[s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(3)),a=n(14),u=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queueGeometry=function(e,t,n,r){var o=!0,i=!1,u=void 0;try{for(var s,f=r[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var c=s.value;if(c.geometry===e&&c.material===t)return void c.worldTransforms.push(n)}}catch(e){i=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw u}}r.push(new a.GeometryBatch(e,t,n))},this.queueLight=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;if(s.type===e.type)return s.color.push(e.color),s.range.push(e.range),s.diffuseStrength.push(e.diffuseStrength),s.specularStrength.push(e.specularStrength),s.shininess.push(e.shininess),void s.worldTransforms.push(e.node.transform.worldTransform)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}t.push(new a.LightBatch(e.type,e.color,e.range,e.diffuseStrength,e.specularStrength,e.shininess,e.node.transform.worldTransform))},this.bindAll=function(e,n,r,o,i){var a=t.bindMaterial(i);a&&t.bindLights(n),(a||t.boundScene!==e)&&t.bindScene(),(a||t.boundMesh!==o)&&(t.boundMesh=o,t.bindShaderAttributes(),t.enableShaderAttributes(o)),(a||t.boundCamera!==r)&&t.bindCamera(r)},this.bindShaderProgram=function(e){t.boundShaderProgram!==e&&(t.boundShaderProgram=e,i.default.useProgram(e.program))},this.bindLights=function(e){var n=t.boundShaderProgram.uniformLocations;if(n["light[0].color"]){var r=0,o=!0,a=!1,u=void 0;try{for(var s,f=e[Symbol.iterator]();!(o=(s=f.next()).done);o=!0)for(var c=s.value,l=c.worldTransforms.length,h=0;h<l;h+=1){var m=void 0;if("POINTLIGHT"===c.type&&(m=1),i.default.uniform1i(n["light["+r+"].type"],m),i.default.uniform3fv(n["light["+r+"].color"],c.color[h].toArray),i.default.uniform1f(n["light["+r+"].range"],c.range[h]),i.default.uniform1f(n["light["+r+"].diffuseStrength"],c.diffuseStrength[h]),i.default.uniform1f(n["light["+r+"].specularStrength"],c.specularStrength[h]),i.default.uniform1f(n["light["+r+"].shininess"],c.shininess[h]),i.default.uniformMatrix4fv(n["light["+r+"].transform"],!1,c.worldTransforms[h].toFloat32Array),r>4)return;r+=1}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}}},this.boundScene=null,this.boundCamera=null}return o(e,[{key:"renderScene",value:function(e){var t=this;this.boundScene=e;var n=[],r=[];e.walkEnabled(function(e){var o=!0,i=!1,a=void 0;try{for(var u,s=e.components[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var f=u.value;switch(f.constructor.name){case"Model":t.queueRenderable(f,n);break;case"Light":t.queueLight(f,r);break;case"Camera":f.active&&(t.boundCamera=f)}}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}),i.default.clearColor(.4,.4,.4,1),i.default.clear(i.default.COLOR_BUFFER_BIT|i.default.DEPTH_BUFFER_BIT),this.renderPass(n,r)}},{key:"queueRenderable",value:function(e,t){if(!e.mesh)throw new Error("Renderable mesh missing from ",e);var n=e.getGeometries(),r=e.getMaterials();if(n&&r)for(var o=0;o<n.length;o+=1)this.queueGeometry(n[o],r[o]||this.defaultMaterial,e.node.transform.worldTransform,t)}},{key:"renderPass",value:function(e,t){i.default.frontFace(i.default.CCW),i.default.enable(i.default.CULL_FACE),i.default.enable(i.default.DITHER),i.default.enable(i.default.DEPTH_TEST),i.default.depthMask(!0);var n=!0,r=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,f=s.material,c=s.geometry,l=c.mesh,h=c.vertexCount,m=c.vertexOffset;this.bindAll(t,l,f),this.drawIndividual(s,i.default.TRIANGLES,h,i.default.UNSIGNED_SHORT,m)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}this.boundMaterial=null,this.boundMesh=null,this.boundScene=null,this.boundShaderProgram=null,this.boundCamera=null}},{key:"bindMaterial",value:function(e){if(this.boundMaterial===e)return!1;this.boundMaterial=e;var t=void 0,n=u.default.getShaderProgramKey(e.name,e.defines);this.shaderProgramCache.has(n)?t=this.shaderProgramCache.get(n):((t=new u.default(u.default.getSource("shaderProgramCode"),e.defines,n)).buildFromDefines(),this.shaderProgramCache.set(n,t)),e.shaderProgram=t,this.bindShaderProgram(t);var o=this.boundShaderProgram.uniformLocations,a=e.textures.entries(),s=!0,f=!1,c=void 0;try{for(var l,h=a[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var m=l.value,d=r(m,2),p=d[0],y=d[1],v=void 0,b=void 0;switch(p){case"COLORMAP":v=0,b=o.u_colorTexture;break;case"NORMALMAP":v=1,b=o.u_normalTexture;break;case"SPECULARMAP":v=2,b=o.u_specularTexture;break;default:throw new Error("No texture of type "+p+" has been specified")}i.default.activeTexture(i.default.TEXTURE0+v),i.default.bindTexture(i.default.TEXTURE_2D,y.buffer),i.default.uniform1i(b,v)}}catch(e){f=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(f)throw c}}return!0}},{key:"bindScene",value:function(){var e=this.boundShaderProgram.uniformLocations,t=this.scene.ambientLightStrength,n=t.ambientLightStrength,r=t.ambientLightColor.toArray.map(function(e){return e*n});i.default.uniform3fv(e.u_ambientLight,r),i.default.uniform1f(e.u_time,performance.now()||0)}},{key:"bindCamera",value:function(){var e=this.boundShaderProgram.uniformLocations;i.default.uniformMatrix4fv(e.u_perspective,!1,this.boundCamera.perspective.toFloat32Array),i.default.uniformMatrix4fv(e.u_view,!1,this.boundCamera.view.toFloat32Array),i.default.uniformMatrix4fv(e.u_invertedView,!1,this.boundCamera.view.toFloat32Array.invert)}},{key:"bindShaderAttributes",value:function(){i.default.bindBuffer(i.default.ARRAY_BUFFER,this.boundMesh.vertexBuffer),i.default.bindBuffer(i.default.ELEMENT_ARRAY_BUFFER,this.boundMesh.indiceBuffer)}},{key:"enableShaderAttributes",value:function(){var e=this.boundShaderProgram.attributeLocations,t=this.boundMesh,n=t.attributes,r=t.vertexSize,o=!0,a=!1,u=void 0;try{for(var s,f=n[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var c=s.value,l=c.name,h=c.vertices,m=c.offset;i.default.enableVertexAttribArray(e[l]),i.default.vertexAttribPointer(e[l],h,i.default.FLOAT,!1,4*r,4*m)}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}}},{key:"drawIndividual",value:function(e,t,n,r,o){var a=!0,u=!1,s=void 0;try{for(var f,c=e.worldTransforms[Symbol.iterator]();!(a=(f=c.next()).done);a=!0){var l=f.value;this.bindTransform(l),i.default.drawElements(t,n,r,2*o)}}catch(e){u=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw s}}}},{key:"bindTransform",value:function(e){var t=this.boundShaderProgram.uniformLocations,n=this.boundCamera,r=n.perspective,o=n.view.invert.mul(e),a=r.mul(o);i.default.uniformMatrix4fv(t.u_model,!1,e.toFloat32Array),i.default.uniformMatrix4fv(t.u_mv,!1,o.toFloat32Array),i.default.uniformMatrix4fv(t.u_mvp,!1,a.toFloat32Array)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),u=(r=a)&&r.__esModule?r:{default:r},s=n(1);var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.type="POINTLIGHT",n.color=s.Color.white,n.range=0,n.diffuseStrength=1,n.specularStrength=1,n.shininess=32,n.debug=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"setAttributes",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=Object.entires(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,s=o(u,2),f=s[0],c=s[1];this[f]&&(this[f]=c)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"removeReferences",value:function(){}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=(r=i)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mesh=null,n.materials=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"addMesh",value:function(e){this.mesh=e}},{key:"addMaterial",value:function(e){this.materials.push(e)}},{key:"getGeometries",value:function(){return this.mesh&&this.mesh.geometries||null}},{key:"getMaterials",value:function(){return this.materials.length?this.materials:null}},{key:"removeReferences",value:function(){this.mesh=null,this.materials.length=0}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=(r=i)&&r.__esModule?r:{default:r},u=n(1),s=n(7);var f=Math.PI,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.update=function(){},n.active=!0,n.inControl=!0,n._perspective=u.Mat4.perspective(.25*f,window.innerWidth/window.innerHeight,.01,1e3),n.resize=function(){n.perspective=u.Mat4.perspective(.25*f,window.innerWidth/window.innerHeight,.01,1e3)},s.windowResizeEvent.subscribe(n.resize),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"removeReferences",value:function(){s.windowResizeEvent.unsubscribe(this.resize)}},{key:"view",get:function(){return this.node.transform.worldTransform}},{key:"perspective",set:function(e){this._perspective=e},get:function(){return this._perspective.clone}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return a(r).default}});var o=n(17);Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return a(o).default}});var i=n(16);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Light",{enumerable:!0,get:function(){return a(i).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1);var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t||null,this._startTranslation=null,this._targetTranslation=null,this._startRotation=null,this._targetRotation=null,this._startScale=null,this._targetScale=null,this._origin=o.Vec3.zero,this._rotateAroundOrigin=!1,this._localTranslation=o.Vec3.zero,this._localScale=o.Vec3.one,this._localRotation=o.Quat.identity,this._localTransformUnscaled=o.Mat4.identity,this._localTransform=o.Mat4.identity,this._worldTransformUnscaled=o.Mat4.identity,this._worldTransform=o.Mat4.identity,this._worldTransformDirty=!0}return r(e,[{key:"translate",value:function(e){this.setWorldTransformDirty(),this._localTranslation=this._localTranslation.add(e)}},{key:"rotate",value:function(e){this.setWorldTransformDirty(),this._localRotation=this._localRotation.mul(e)}},{key:"setWorldTransformDirty",value:function(){this._worldTransformDirty||this.node.walkEnabled(function(e){e.transform._worldTransformDirty=!0})}},{key:"updateLocalTransform",value:function(){console.log(this);var e=o.Mat4.identity,t=this._localTranslation,n=this._localRotation.toMat3,r=this._localScale;if(e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m10=n.m10,e.m11=n.m11,e.m12=n.m12,e.m20=n.m20,e.m21=n.m21,e.m22=n.m22,this._rotateAroundOrigin){var i=this._origin,a=i.x,u=i.y,s=i.z;e.m30=a*n.m00+u*n.m10+s*n.m20+t.x,e.m31=a*n.m01+u*n.m11+s*n.m21+t.y,e.m32=a*n.m02+u*n.m12+s*n.m22+t.z}else e.m30=t.x,e.m31=t.y,e.m32=t.z;this._localTransformUnscaled=e.clone,e.m00*=r.x,e.m01*=r.x,e.m02*=r.x,e.m10*=r.y,e.m11*=r.y,e.m12*=r.y,e.m20*=r.z,e.m21*=r.z,e.m22*=r.z,this._localTransform=e}},{key:"updateWorldTransform",value:function(){this.updateLocalTransform(),this.node.parent?(this._worldTransformUnscaled=this.node.parent.transform.worldTransformUnscaled.mul(this._localTransformUnscaled),this._worldTransform=this.node.parent.transform.worldTransformUnscaled.mul(this._localTransform)):(this._worldTransformUnscaled=this._localTransformUnscaled.copy,this._worldTransform=this._localTransform.copy),this._worldTransformDirty=!1}},{key:"right",get:function(){var e=this.worldTransform,t=e.m00,n=e.m10,r=e.m20;return new o.Vec3(t,n,r)}},{key:"up",get:function(){var e=this.worldTransform,t=e.m01,n=e.m11,r=e.m21;return new o.Vec3(t,n,r)}},{key:"forward",get:function(){var e=this.worldTransform,t=e.m02,n=e.m12,r=e.m22;return new o.Vec3(t,n,r)}},{key:"translation",set:function(e){this.setWorldTransformDirty(),this._localTranslation=e},get:function(){return this._localTranslation}},{key:"rotation",set:function(e){this.setWorldTransformDirty(),this._localRotation=e},get:function(){return this._localRotation}},{key:"scale",set:function(e){this.setWorldTransformDirty(),this._localScale=e},get:function(){return this._localScale}},{key:"origin",set:function(e){this._rotateAroundOrigin=0!==e.lenSqrt,this._origin=e},get:function(){return this._origin}},{key:"worldTransform",get:function(){return this._worldTransformDirty&&this.updateWorldTransform(),this._worldTransform.clone}},{key:"worldTransformUnscaled",get:function(){return this._worldTransformDirty&&this.updateWorldTransform(),this._worldTransformUnscaled.clone}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(20),a=(r=i)&&r.__esModule?r:{default:r};var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.children=[],this.components=[],this.transform=new a.default(this),this.scene=t||null,this.parent=n||null}return o(e,[{key:"addChild",value:function(){var t=new e(this.scene,this);return this.scene.addToNodeRegister(t),this.children.push(t),t}},{key:"removeChild",value:function(e){e.scene=null,e.parent=null,e.transfrom.node=null,e.transfrom=null,this.scene.removeFromNodeRegister(e),this.children.splice(this.children.indexOf(e),1)}},{key:"addComponent",value:function(e){var t=new e(this);return this.scene.addToComponentRegister(t),this.components.push(t),t}},{key:"removeComponent",value:function(e){e.node=null,this.scene.removeFromComponentRegister(e),this.components.splice(this.components.indexOf(e),1)}},{key:"remove",value:function(){for(var e=this.children,t=this.components,n=this.parent;e.length;)e[e.length-1].remove();for(;t.length;)t[t.length-1].remove();n.removeChild(this)}},{key:"walkEnabled",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.walkEnabled(e)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}e(this)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21),a=(r=i)&&r.__esModule?r:{default:r},u=n(19),s=n(1);var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e||null,n.scene=n,n.nodeRegister=[],n.componentRegister=[],n.ambientLightStrength=.5,n.ambientLightColor=new s.Vec3(1,1,1),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,null,[{key:"createScene",value:function(e,n){var r=new t(e),o=e.data;return o.transform&&(r.transform.translation=new s.Vec3(o.transform.translation.x||0,o.transform.translation.y||0,o.transform.translation.z||0),r.transform.rotation=s.Quat.fromEulers(o.transform.rotation.x||0,o.transform.rotation.y||0,o.transform.rotation.z||0),r.transform.scale=new s.Vec3(o.transform.scale.x||0,o.transform.scale.y||0,o.transform.scale.z||0)),function e(t,n,r){t.forEach(function(t){var o=n.addChild();if(t.transform&&(o.transform.translation=new s.Vec3(t.transform.translation.x||0,t.transform.translation.y||0,t.transform.translation.z||0),o.transform.rotation=s.Quat.fromEulers(t.transform.rotation.x||0,t.transform.rotation.y||0,t.transform.rotation.z||0),o.transform.scale=new s.Vec3(t.transform.scale.x||0,t.transform.scale.y||0,t.transform.scale.z||0)),t.components){var i=function(e){var n=void 0;switch(e){case"model":(n=o.addComponent(u.Model)).addMesh(r.getResource(t.components[e].mesh)),t.components[e].materials.forEach(function(e){n.addMaterial(r.getResource(e))});break;case"camera":(n=o.addComponent(u.Camera)).active=t.components[e].active}};for(var a in t.components)i(a)}t.nodes&&e(t.nodes,o,r)})}(o.nodes,r,n),r}}]),o(t,[{key:"addToNodeRegister",value:function(e){this.nodeRegister.push(e)}},{key:"removeFromNodeRegister",value:function(e){this.nodeRegister.splice(this.nodeRegister.indexOf(e),1)}},{key:"addToComponentRegister",value:function(e){this.componentRegister.push(e)}},{key:"removeFromComponentRegister",value:function(e){this.componentRegister.splice(this.componentRegister.indexOf(e),1)}},{key:"remove",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.children[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.remove()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}for(;this.components.length>0;)this.components[this.components.length-1].remove()}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(5),i=(r=o)&&r.__esModule?r:{default:r};n(1);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();a.generate=function(e,t){t.radius},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(5),i=(r=o)&&r.__esModule?r:{default:r},a=n(1);var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();u.generate=function(e,t){var n=t.width,r=t.depth;n/=2;for(var o=[],i=[],u=0,s=-(r/=2);s<r-1;s+=1)for(var f=-n;f<n-1;f+=1)o.push(new a.Vec3(f,0,s)),o.push(new a.Vec2(0,0)),i[u]=u,u+=1,o.push(new a.Vec3(f,0,s+1)),o.push(new a.Vec2(0,1)),i[u]=u,u+=1,o.push(new a.Vec3(f+1,0,s+1)),o.push(new a.Vec2(1,1)),i[u]=u,u+=1,o.push(new a.Vec3(f,0,s)),o.push(new a.Vec2(0,0)),i[u]=u,u+=1,o.push(new a.Vec3(f+1,0,s+1)),o.push(new a.Vec2(1,1)),i[u]=u,u+=1,o.push(new a.Vec3(f+1,0,s)),o.push(new a.Vec2(1,0)),i[u]=u,u+=1;e.constructor.parse(e,{vertexData:o,indices:i})},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(3)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buffer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,null,[{key:"parse",value:function(e,t){var n=new Image;n.src="data:image/png;base64,"+t,e.buffer=function(e){var t=e.width,n=e.height,r=o.default.createTexture();return o.default.bindTexture(o.default.TEXTURE_2D,r),o.default.texImage2D(o.default.TEXTURE_2D,0,o.default.RGBA,t,n,0,o.default.RGBA,o.default.UNSIGNED_BYTE,e),t&t-1==0&&n&n-1==0?o.default.generateMipmap(o.default.TEXTURE_2D):(o.default.texParameteri(o.default.TEXTURE_2D,o.default.TEXTURE_WRAP_S,o.default.CLAMP_TO_EDGE),o.default.texParameteri(o.default.TEXTURE_2D,o.default.TEXTURE_WRAP_T,o.default.CLAMP_TO_EDGE),o.default.texParameteri(o.default.TEXTURE_2D,o.default.TEXTURE_MIN_FILTER,o.default.LINEAR)),r}(n)}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),u=(r=a)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.textures=new Map,n.defines=new Map,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,null,[{key:"parse",value:function(e,t){return"object"!==(void 0===t?"undefined":o(t))&&JSON.parse(t),e.setDefines(t.defines),function(n){e.setTextures(Object.entries(t.textures).reduce(function(e,t){return e[t[0]]=n.getResource(t[1].src),e},{}))}}}]),i(t,[{key:"setTextures",value:function(e){var t=this;Object.entries(e).forEach(function(e,n){n?t.textures.set(e,n):t.textures.delete(e)})}},{key:"setDefines",value:function(e){var t=this;Object.entries(e).forEach(function(e,n){t.defines.has(e)?t.defines.delete(e):t.defines.set(e,n||null)})}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mesh=null,this.vertexOffset=t,this.vertexCount=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){throw function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new Error("You should not use Easing contructor...")}return r(e,null,[{key:"linear",value:function(e){return e}},{key:"easeInQuad",value:function(e){return e*e}},{key:"easeOutQuad",value:function(e){return e*(2-e)}},{key:"easeInOutQuad",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"easeInCubic",value:function(e){return e*e*e}},{key:"easeOutCubic",value:function(e){return(e-=1)*e*e+1}},{key:"easeInOutCubic",value:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},{key:"easeInQuart",value:function(e){return e*e*e*e}},{key:"easeOutQuart",value:function(e){return 1-(e-=1)*e*e*e}},{key:"easeInOutQuart",value:function(e){return e<.5?8*e*e*e*e:1-8*(e-=1)*e*e*e}},{key:"easeInQuint",value:function(e){return e*e*e*e*e}},{key:"easeOutQuint",value:function(e){return 1+(e-=1)*e*e*e*e}},{key:"easeInOutQuint",value:function(e){return e<.5?16*e*e*e*e*e:1+16*(e-=1)*e*e*e*e}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1);var i=Math.sin,a=Math.cos,u=Math.acos,s=Math.abs,f=Math.sqrt,c=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.w=t||0,this.x=n||0,this.y=r||0,this.z=o||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"fromEulers",value:function(t,n,r){var o=a(.5*n),u=a(.5*r),s=a(.5*t),f=i(.5*n),c=i(.5*r),l=i(.5*t);return new e(o*u*s-f*c*l,o*u*l+f*c*s,f*u*s+o*c*l,o*c*s-f*u*l).normalize}},{key:"fromAxisAngle",value:function(t,n){var r=1/t.len,o=i(n/2);return new e(a(n/2),o*t.x*r,o*t.y*r,o*t.z*r).normalize}},{key:"fromRotation",value:function(t,n){var r=t.add(n),o=t.cross(r);return new e(t.dot(r),o.x,o.y,o.z).normalize}},{key:"identity",get:function(){return new e(1,0,0,0)}},{key:"up",get:function(){return new e(.707,.707,0,0)}},{key:"down",get:function(){return new e(.707,-.707,0,0)}},{key:"left",get:function(){return new e(.707,0,.707,0)}},{key:"right",get:function(){return new e(.707,0,-.707,0)}},{key:"backward",get:function(){return new e(0,0,1,0)}},{key:"upsideDown",get:function(){return new e(0,0,0,1)}},{key:"tiltLeft",get:function(){return new e(.707,0,0,.707)}},{key:"tiltRight",get:function(){return new e(.707,0,0,-.707)}}]),r(e,[{key:"mul",value:function(t){var n=this.w,r=this.x,o=this.y,i=this.z,a=t.w,u=t.x,s=t.y,f=t.z;return new e(n*a-r*u-o*s-i*f,r*a+n*u+o*f-i*s,o*a+n*s+i*u-r*f,i*a+n*f+r*s-o*u).normalize}},{key:"dot",value:function(e){return this.w*e.w+this.x*e.x+this.y*e.y+this.z*e.z}},{key:"cross",value:function(e){throw new Error("Quaternion cross not implemented "+e)}},{key:"scaleRotation",value:function(t){var n=u(this.w)*t,r=new o.Vec3(this.x,this.y,this.z).scale(i(n));return new e(a(n),r.x,r.y,r.z)}},{key:"lerp",value:function(e,t){return t>=1?e:this.scaleRotation(1-t).multiply(e.scaleRotation(t))}},{key:"nlerp",value:function(e,t){return this.lerp(e,t).normalize}},{key:"slerp",value:function(t,n){if(n<=0)return this;if(n>=1)return t;var r=this.dot(t);if(s(r)>=1)return this;r<0&&(t.w=-t.w,t.x=-t.x,t.y=-t.y,t.z=-t.z,r=-r);var o=f(1-r*r);if(s(o)<.001)return new e(.5*(this.w+t.w),.5*(this.x+t.x),.5*(this.y+t.y),.5*(this.z+t.z)).normalize;var a=u(r),c=i((1-n)*a)/o,l=i(n*a)/o;return new e(this.w*c+t.w*l,this.x*c+t.x*l,this.y*c+t.y*l,this.z*c+t.z*l).normalize}},{key:"clone",get:function(){return new e(this.w,this.x,this.y,this.z)}},{key:"toArray",get:function(){return[this.w,this.x,this.y,this.z]}},{key:"toMat3",get:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=t*e,a=t*t,u=t*n,s=t*r,f=n*e,c=n*n,l=n*r,h=r*e,m=r*r;return new o.Mat3(1-2*(c+m),2*(u-h),2*(s+f),2*(u+h),1-2*(a+m),2*(l-i),2*(s-f),2*(l+i),1-2*(a+c))}},{key:"toMat4",get:function(){return this.toMat3.toMat4}},{key:"toEulers",get:function(){throw new Error("Quaternion toEuler not implemented")}},{key:"len",get:function(){return f(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lenSqrt",get:function(){return this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z}},{key:"conjugate",get:function(){return new e(this.w,-this.x,-this.y,-this.z)}},{key:"normalize",get:function(){var t=f(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);return t>0?(t=1/t,new e(this.w*t,this.x*t,this.y*t,this.z*t)):new e(1,0,0,0)}},{key:"invert",get:function(){var t=1/this.len;return new e(this.w*t,-this.x*t,-this.y*t,-this.z*t)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1);var i=Math.sin,a=Math.cos,u=Math.tan,s=function(){function e(t,n,r,o,i,a,u,s,f,c,l,h,m,d,p,y){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.m00=t||0,this.m01=n||0,this.m02=r||0,this.m03=o||0,this.m10=i||0,this.m11=a||0,this.m12=u||0,this.m13=s||0,this.m20=f||0,this.m21=c||0,this.m22=l||0,this.m23=h||0,this.m30=m||0,this.m31=d||0,this.m32=p||0,this.m33=y||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"perspective",value:function(t,n,r,o){var i=1/u(t/2),a=1/(r-o);return new e(i/n,0,0,0,0,i,0,0,0,0,(r+o)*a,-1,0,0,r*o*a*2,0)}},{key:"orthographic",value:function(t,n,r,o,i,a){var u=1/(t-n),s=1/(r-o),f=1/(i-a);return new e(2*u,0,0,0,0,2*s,0,0,0,0,2*f,0,(t+n)*u,(o+r)*s,(a+i)*f,1)}},{key:"translate",value:function(t,n,r){return new e(1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1)}},{key:"scale",value:function(t,n,r){return new e(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1)}},{key:"rotateX",value:function(t){var n=a(t),r=i(t);return new e(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1)}},{key:"rotateY",value:function(t){var n=a(t),r=i(t);return new e(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}},{key:"rotateZ",value:function(t){var n=a(t),r=i(t);return new e(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}},{key:"identity",get:function(){return new e(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}]),r(e,[{key:"lookAt",value:function(t,n){var r=this.sub(t).normalize,o=n.cross(r),i=r.cross(o);return new e(o.x,o.y,o.z,0,i.x,i.y,i.z,0,r.x,r.y,r.z,0,this.x,this.y,this.z,1)}},{key:"add",value:function(t){return new e(this.m00+t.m00,this.m01+t.m01,this.m02+t.m02,this.m03+t.m03,this.m10+t.m10,this.m11+t.m11,this.m12+t.m12,this.m13+t.m13,this.m20+t.m20,this.m21+t.m21,this.m22+t.m22,this.m23+t.m23,this.m30+t.m30,this.m31+t.m31,this.m32+t.m32,this.m33+t.m33)}},{key:"sub",value:function(t){return new e(this.m00-t.m00,this.m01-t.m01,this.m02-t.m02,this.m03-t.m03,this.m10-t.m10,this.m11-t.m11,this.m12-t.m12,this.m13-t.m13,this.m20-t.m20,this.m21-t.m21,this.m22-t.m22,this.m23-t.m23,this.m30-t.m30,this.m31-t.m31,this.m32-t.m32,this.m33-t.m33)}},{key:"mul",value:function(t){return new e(t.m00*this.m00+t.m01*this.m10+t.m02*this.m20+t.m03*this.m30,t.m00*this.m01+t.m01*this.m11+t.m02*this.m21+t.m03*this.m31,t.m00*this.m02+t.m01*this.m12+t.m02*this.m22+t.m03*this.m32,t.m00*this.m03+t.m01*this.m13+t.m02*this.m23+t.m03*this.m33,t.m10*this.m00+t.m11*this.m10+t.m12*this.m20+t.m13*this.m30,t.m10*this.m01+t.m11*this.m11+t.m12*this.m21+t.m13*this.m31,t.m10*this.m02+t.m11*this.m12+t.m12*this.m22+t.m13*this.m32,t.m10*this.m03+t.m11*this.m13+t.m12*this.m23+t.m13*this.m33,t.m20*this.m00+t.m21*this.m10+t.m22*this.m20+t.m23*this.m30,t.m20*this.m01+t.m21*this.m11+t.m22*this.m21+t.m23*this.m31,t.m20*this.m02+t.m21*this.m12+t.m22*this.m22+t.m23*this.m32,t.m20*this.m03+t.m21*this.m13+t.m22*this.m23+t.m23*this.m33,t.m30*this.m00+t.m31*this.m10+t.m32*this.m20+t.m33*this.m30,t.m30*this.m01+t.m31*this.m11+t.m32*this.m21+t.m33*this.m31,t.m30*this.m02+t.m31*this.m12+t.m32*this.m22+t.m33*this.m32,t.m30*this.m03+t.m31*this.m13+t.m32*this.m23+t.m33*this.m33)}},{key:"clone",get:function(){return new e(this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33)}},{key:"toArray",get:function(){return[this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33])}},{key:"toMat3",get:function(){return new o.Mat3(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}},{key:"toQuat",get:function(){return this.toMat3.toQuat}},{key:"invert",get:function(){var t=this.m00,n=this.m01,r=this.m02,o=this.m03,i=this.m10,a=this.m11,u=this.m12,s=this.m13,f=this.m20,c=this.m21,l=this.m22,h=this.m23,m=this.m30,d=this.m31,p=this.m32,y=this.m33,v=a*l*y-a*h*p-c*u*y+c*s*p+d*u*h-d*s*l,b=-i*l*y+i*h*p+f*u*y-f*s*p-m*u*h+m*s*l,w=i*c*y-i*h*d-f*a*y+f*s*d+m*a*h-m*s*c,g=-i*c*p+i*l*d+f*a*p-f*u*d-m*a*l+m*u*c,_=t*v+n*b+r*w+o*g;if(0===_)throw new Error("Cannot invert matrix",this);return new e((_=1/_)*v,_*-n*l*y+n*h*p+c*r*y-c*o*p-d*r*h+d*o*l,_*n*u*y-n*s*p-a*r*y+a*o*p+d*r*s-d*o*u,_*-n*u*h+n*s*l+a*r*h-a*o*l-c*r*s+c*o*u,_*b,_*t*l*y-t*h*p-f*r*y+f*o*p+m*r*h-m*o*l,_*-t*u*y+t*s*p+i*r*y-i*o*p-m*r*s+m*o*u,_*t*u*h-t*s*l-i*r*h+i*o*l+f*r*s-f*o*u,_*w,_*-t*c*y+t*h*d+f*n*y-f*o*d-m*n*h+m*o*c,_*t*a*y-t*s*d-i*n*y+i*o*d+m*n*s-m*o*a,_*-t*a*h+t*s*c+i*n*h-i*o*c-f*n*s+f*o*a,_*g,_*t*c*p-t*l*d-f*n*p+f*r*d+m*n*l-m*r*c,_*-t*a*p+t*u*d+i*n*p-i*r*d-m*n*u+m*r*a,_*t*a*l-t*u*c-i*n*l+i*r*c+f*n*u-f*r*a)}},{key:"transpose",get:function(){return new e(this.m00,this.m10,this.m20,this.m30,this.m01,this.m11,this.m21,this.m31,this.m02,this.m12,this.m22,this.m32,this.m03,this.m13,this.m23,this.m33)}},{key:"translation",get:function(){return new o.Vec3(this.m30,this.m31,this.m32)}},{key:"scale",get:function(){return new o.Vec3(new o.Vec3(this.m00,this.m10,this.m20).len,new o.Vec3(this.m01,this.m11,this.m21).len,new o.Vec3(this.m02,this.m12,this.m22).len)}},{key:"rotation",get:function(){return new o.Mat3(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1);var i=Math.sqrt,a=function(){function e(t,n,r,o,i,a,u,s,f){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.m00=t,this.m01=n,this.m02=r,this.m10=o,this.m11=i,this.m12=a,this.m20=u,this.m21=s,this.m22=f}return r(e,null,[{key:"identity",get:function(){return new e(1,0,0,0,1,0,0,0,1)}}]),r(e,[{key:"multiplyVector",value:function(t){return new e(this.m00*t.x+this.m01*t.y+this.m02*t.z,this.m10*t.x+this.m11*t.y+this.m12*t.z,this.m20*t.x+this.m21*t.y+this.m22*t.z)}},{key:"add",value:function(t){return new e(this.m00+t.m00,this.m01+t.m01,this.m02+t.m02,this.m10+t.m10,this.m11+t.m11,this.m12+t.m12,this.m20+t.m20,this.m21+t.m21,this.m22+t.m22)}},{key:"sub",value:function(t){return new e(this.m00-t.m00,this.m01-t.m01,this.m02-t.m02,this.m10-t.m10,this.m11-t.m11,this.m12-t.m12,this.m20-t.m20,this.m21-t.m21,this.m22-t.m22)}},{key:"mul",value:function(t){var n=this.m01,r=this.m02,o=this.m03,i=this.m11,a=this.m12,u=this.m13,s=this.m21,f=this.m22,c=this.m23,l=t.m01,h=t.m02,m=t.m03,d=t.m11,p=t.m12,y=t.m13,v=t.m21,b=t.m22,w=t.m23;return new e(n*l+r*d+o*v,n*h+r*p+o*b,n*m+r*y+o*w,i*l+a*d+u*v,i*h+a*p+u*b,i*m+a*y+u*w,s*l+f*d+c*v,s*h+f*p+c*b,s*m+f*y+c*w)}},{key:"clone",get:function(){return new e(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}},{key:"toArray",get:function(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22])}},{key:"toMat4",get:function(){return new o.Mat4(this.m00,this.m01,this.m02,0,this.m10,this.m11,this.m12,0,this.m20,this.m21,this.m22,0,0,0,0,1)}},{key:"toQuat",get:function(){var e=this.m00+this.m11+this.m22,t=void 0;return e>0?(t=.5/i(e+1),new o.Quat(.25/t,(this.m21-this.m12)*t,(this.m02-this.m20)*t)):this.m00>this.m11&&this.m00>this.m22?(t=2*i(1+this.m00-this.m11-this.m22),new o.Quat((this.m21-this.m12)/t,.25*t,(this.m01+this.m10)/t,(this.m02+this.m20)/t)):this.m11>this.m22?(t=2*i(1+this.m11-this.m00-this.m22),new o.Quat((this.m02-this.m20)/t,(this.m01+this.m10)/t,.25*t,(this.m12+this.m21)/t)):(t=2*i(1+this.m22-this.m00-this.m11),new o.Quat((this.m10-this.m01)/t,(this.m02+this.m20)/t,(this.m12+this.m21)/t))}}]),e}();a.fromArray=function(e){return new(Function.prototype.bind.apply(a,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))))},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=Math.sqrt,i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0,this.z=r||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"fromQuat",value:function(t){var n=this.x,r=this.y,o=this.z,i=t.x,a=t.y,u=t.z,s=t.w,f=s*n+a*o-u*r,c=s*r+u*n-i*o,l=s*o+i*r-a*n,h=-i*n-a*r-u*o;return new e(f*s+h*-i+c*-u-l*-a,c*s+h*-a+l*-i-f*-u,l*s+h*-u+f*-a-c*-i)}},{key:"fromMat4",value:function(t){return new e(t.a14+t.a11*this.x+t.a12*this.y+t.a13*this.z,t.a24+t.a21*this.x+t.a22*this.y+t.a23*this.z,t.a34+t.a31*this.x+t.a32*this.y+t.a33*this.z)}},{key:"zero",get:function(){return new e(0,0,0)}},{key:"up",get:function(){return new e(0,1,0)}},{key:"down",get:function(){return new e(0,-1,0)}},{key:"left",get:function(){return new e(-1,0,0)}},{key:"right",get:function(){return new e(1,0,0)}},{key:"forward",get:function(){return new e(0,0,1)}},{key:"backward",get:function(){return new e(0,0,-1)}}]),r(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y,this.z+t.z)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t,this.z*t)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"cross",value:function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}},{key:"lerp",value:function(t,n){return new e(this.x+(t.x-this.x)*n,this.y+(t.y-this.y)*n,this.z+(t.z-this.z)*n)}},{key:"getNormal",value:function(e,t){return this.sub(e).cross(this.sub(t)).normalize}},{key:"getAngle",value:function(e){return this.normalize.dot(e.normalize)}},{key:"forward",get:function(){return this.normalize}},{key:"backward",get:function(){return this.normalize.invert}},{key:"left",get:function(){return this.forward.cross(e.up).normalize}},{key:"right",get:function(){return this.forward.cross(e.up).normalize.invert}},{key:"down",get:function(){return this.forward.cross(this.left).normalize}},{key:"up",get:function(){return this.forward.cross(this.left).normalize.invert}},{key:"toArray",get:function(){return[this.x,this.y,this.z]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.x,this.y,this.z])}},{key:"clone",get:function(){return new e(this.x,this.y,this.z)}},{key:"len",get:function(){return o(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lenSqrt",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"normalize",get:function(){var t=o(this.x*this.x+this.y*this.y+this.z*this.z);return t>0?(t=1/t,new e(this.x*t,this.y*t,this.z*t)):new e(0,0,0)}},{key:"invert",get:function(){return new e(-this.x,-this.y,-this.z)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=Math.sqrt,i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"zero",get:function(){return new e(0,0)}},{key:"up",get:function(){return new e(0,1)}},{key:"down",get:function(){return new e(0,-1)}},{key:"left",get:function(){return new e(-1,0)}},{key:"right",get:function(){return new e(1,0)}}]),r(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"getAngle",value:function(e){return this.normalize.dot(e.normalize)}},{key:"invert",value:function(){return new e(-this.x,-this.y)}},{key:"toArray",get:function(){return[this.x,this.y]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.x,this.y])}},{key:"clone",get:function(){return new e(this.x,this.y)}},{key:"len",get:function(){return o(this.x*this.x+this.y*this.y)}},{key:"lenSqrt",get:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",get:function(){var t=o(this.x*this.x+this.y*this.y);return t>0?(t=1/t,new e(this.x*t,this.y*t)):new e(0,0)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.r=t||0,this.g=n||0,this.b=r||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(o(t))))}},{key:"fromHex",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(o([t.slice(2,4),t.slice(4,6),t.slice(6,8)].map(function(e){return parseInt(e,16)/255})))))}},{key:"white",get:function(){return new e(1,1,1)}},{key:"red",get:function(){return new e(1,0,0)}},{key:"green",get:function(){return new e(0,1,0)}},{key:"blue",get:function(){return new e(0,0,1)}},{key:"black",get:function(){return new e(0,0,0)}}]),r(e,[{key:"copy",get:function(){return new e(this.r,this.g,this.b)}},{key:"toArray",get:function(){return[this.r,this.g,this.b]}},{key:"toHex",get:function(){return"0x"+[(255*this.r).toString(16),(255*this.g).toString(16),(255*this.b).toString(16)].map(function(e){return e.length<2?"'0'"+e:e}).join("")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shaderText=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,null,[{key:"parse",value:function(e,t){e.shaderText=t}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),u=(r=a)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.data=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,null,[{key:"parse",value:function(e,t){"object"!==(void 0===t?"undefined":o(t))&&JSON.parse(t),e.data=t}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);Object.defineProperty(t,"SceneSource",{enumerable:!0,get:function(){return c(r).default}});var o=n(35);Object.defineProperty(t,"ShaderSource",{enumerable:!0,get:function(){return c(o).default}});var i=n(5);Object.defineProperty(t,"Mesh",{enumerable:!0,get:function(){return c(i).default}});var a=n(26);Object.defineProperty(t,"Material",{enumerable:!0,get:function(){return c(a).default}});var u=n(25);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return c(u).default}});var s=n(24);Object.defineProperty(t,"Plane",{enumerable:!0,get:function(){return c(s).default}});var f=n(23);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Sphere",{enumerable:!0,get:function(){return c(f).default}})},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(8);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=n(0),o=n(42),i=n(9),a=n(6),u=n(41),s=n(40);function f(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return f(e),e.baseURL&&!u(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return f(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(f(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),a="",u=0,s=r;i.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&t>>8-u%1*8)){if((n=i.charCodeAt(u+=.75))>255)throw new o;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,f=[],c=!1,l=-1;function h(){c&&s&&(c=!1,s.length?f=s.concat(f):l=-1,f.length&&m())}function m(){if(!c){var e=u(h);c=!0;for(var t=f.length;t;){for(s=f,f=[];++l<t;)s&&s[l].run();l=-1,t=f.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new d(e,t)),1!==f.length||c||u(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(6),o=n(0),i=n(44),a=n(43);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(54),a=n(6);function u(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=u(a);s.Axios=i,s.create=function(e){return u(r.merge(a,e))},s.Cancel=n(8),s.CancelToken=n(39),s.isCancel=n(9),s.all=function(e){return Promise.all(e)},s.spread=n(38),e.exports=s,e.exports.default=s},function(e,t,n){e.exports=n(56)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(57),a=(r=i)&&r.__esModule?r:{default:r},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(37));a.default.defaults.baseURL=window.location.origin+"/api/glib",a.default.defaults.headers.common.accept="image/png";var s={".png":function(e){return new u.Texture(e)},".obj":function(e){return new u.Mesh(e)},".mtl":function(e){return new u.Material(e)},".glsl":function(e){return new u.ShaderSource(e)},".cnf":function(e){return new u.SceneSource(e)}},f={Plane:function(e){return new u.Plane(e)},Sphere:function(e){return new u.Sphere(e)}},c=function(e){var t=e.slice(e.indexOf("."),e.length);return s[t]?s[t](e):f[e]?f[e](e):void console.error("No resource for file with url: "+e)},l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resources=new Map,this.resourceQueue=[],this.allLoadedCallback=null,this.loading=!1}return o(e,[{key:"createShape",value:function(e,t){for(var n=0,r=c(o),o=e.toLowerCase();this.resources.has(""+o+n);)n+=1;return o+=""+n,this.resources.set(r.url,r),r.constructor.generate(r,t),r}},{key:"getResource",value:function(e,t){if(this.resources.has(e))return this.resources.get(e);var n=this.resourceQueue.indexOf(e);if(n>-1)return this.resourceQueue[n];var r=c(e);return this.resourceQueue.push(r),this.loadNextResource(t),r}},{key:"loadNextResource",value:function(e){var t=this;if(!this.loading){var n=this.resourceQueue.shift();n?this.resources.has(n.url)?this.loadNextResource():(this.loading=!0,a.default.get(n.url).then(function(r){var o=n.constructor.parse(n,r.data);t.resources.set(n.url,n),o&&o(t),e&&e(n),t.loading=!1,t.loadNextResource()}).catch(function(e){var r="Unable to load resource "+n.url;console.error(r,e),t.resource.set(n.url,{error:r}),t.loading=!1,t.loadNextResource()})):this.allLoaded()}}},{key:"allLoaded",value:function(){}}]),e}();t.default=l},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),u=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,f=0,c=[],l=n(59);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],t))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(b(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:u}}}}function m(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function d(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function y(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),d(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=f++;n=s||(s=y(t)),r=_.bind(null,n,a,!1),o=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=l(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}.bind(null,n,t),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(u=i[a.id]).refs--,r.push(u)}e&&h(m(e,t),t);for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete i[u.id]}}}};var w,g=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,"* {\r\n  font-family: 'Ubuntu', sans-serif;\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml, body {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n#root {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#canvas {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n",""])},function(e,t,n){var r=n(62);"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,sourceMap:!1,convertToAbsoluteUrls:!0,hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";n(63);var r=a(n(58)),o=a(n(22)),i=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}var u=new r.default;u.getResource("scene.cnf",function(e){var t=o.default.createScene(e,u),n=new i.default;setInterval(function(){n.renderScene(t)},500)})}]);