!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=63)}([function(e,t,n){"use strict";var r=n(9),i=n(38),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function u(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53);Object.defineProperty(t,"Color",{enumerable:!0,get:function(){return l(r).default}});var i=n(52);Object.defineProperty(t,"Vec2",{enumerable:!0,get:function(){return l(i).default}});var o=n(51);Object.defineProperty(t,"Vec3",{enumerable:!0,get:function(){return l(o).default}});var a=n(50);Object.defineProperty(t,"Mat3",{enumerable:!0,get:function(){return l(a).default}});var u=n(49);Object.defineProperty(t,"Mat4",{enumerable:!0,get:function(){return l(u).default}});var s=n(48);Object.defineProperty(t,"Quat",{enumerable:!0,get:function(){return l(s).default}});var c=n(47);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Easing",{enumerable:!0,get:function(){return l(c).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gl=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(57)),o=u(n(41)),a=u(n(14));function u(e){return e&&e.__esModule?e:{default:e}}var s=new i.default,c=new o.default,l=new a.default(c),f=document.createElement("canvas"),h=f.getContext("webgl2"),m=function(){function e(t){var n=t.elementId,r=t.canvasId,i=t.width,o=t.height;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f.id=r||"canvas",f.width=i||window.innerWidth,f.height=o||window.innerHeight,h.viewport(0,0,h.canvas.width,h.canvas.height),document.getElementById(n||"root").appendChild(f)}return r(e,[{key:"createScene",value:function(e){c.getResource(e).then(function(e){s.buildFromResource(e,c);requestAnimationFrame(function e(){requestAnimationFrame(e),l.renderScene(s)},1e3);console.log(s)}).catch(function(e){console.error(e)})}}]),e}();t.default=m,t.gl=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t}return r(e,[{key:"parse",value:function(){throw new Error("No parse method defined for Resource type "+this.constructor.name+".")}},{key:"remove",value:function(){throw new Error("No remove method defined for resource type "+this.constructor.name+".")}}]),e}();t.default=i},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(35),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,s={adapter:("undefined"!=typeof XMLHttpRequest?u=n(8):void 0!==t&&(u=n(8)),u),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(o)}),e.exports=s}).call(this,n(36))},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(33);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(0),i=n(34),o=n(32),a=n(31),u=n(30),s=n(7),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(29);e.exports=function(e){return new Promise(function(t,l){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var m=new XMLHttpRequest,d="onreadystatechange",p=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||u(e.url)||(m=new window.XDomainRequest,d="onload",p=!0,m.onprogress=function(){},m.ontimeout=function(){}),e.auth){var y=e.auth.username||"",v=e.auth.password||"";h.Authorization="Basic "+c(y+":"+v)}if(m.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m[d]=function(){if(m&&(4===m.readyState||p)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?a(m.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:n,config:e,request:m};i(t,l,r),m=null}},m.onerror=function(){l(s("Network Error",e,null,m)),m=null},m.ontimeout=function(){l(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var g=n(28),b=(e.withCredentials||u(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in m&&r.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:m.setRequestHeader(t,e)}),e.withCredentials&&(m.withCredentials=!0),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),l(e),m=null)}),void 0===f&&(f=null),m.send(f)})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t}return r(e,[{key:"remove",value:function(){throw new Error("Implement 'remove' method for component: "+this.constructor.name+".")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mesh=null,this.vertexOffset=t,this.vertexCount=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55);Object.defineProperty(t,"GeometryBatch",{enumerable:!0,get:function(){return r.GeometryBatch}}),Object.defineProperty(t,"LightBatch",{enumerable:!0,get:function(){return r.LightBatch}});var i=n(11);Object.defineProperty(t,"Geometry",{enumerable:!0,get:function(){return a(i).default}});var o=n(54);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return a(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2);var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=null,this.defines=n,this.shaderSource=t,this.program=null,this.attributeLocations={},this.uniformLocations={}}return i(e,[{key:"compileShaderProgram",value:function(){if(!this.defines.length)throw new Error("No defines in shaderprogram");if(!this.shaderSource)throw new Error("No shadersource in shaderprogram");this.createKeyFromDefines();var e=this.createShader(o.gl.VERTEX_SHADER),t=this.createShader(o.gl.FRAGMENT_SHADER);this.createProgram(e,t),this.getAttributeLocations(),this.getUniformLocations()}},{key:"createKeyFromDefines",value:function(){return this.key=this.shaderSource.url+":"+this.defines.map(function(e){var t=r(e,2);return t[0]+"="+t[1]}).join(","),this.key}},{key:"createShader",value:function(e){var t=this.shaderSource.createModifiedSource(e,this.defines),n=o.gl.createShader(e);if(o.gl.shaderSource(n,t),o.gl.compileShader(n),!o.gl.getShaderParameter(n,o.gl.COMPILE_STATUS))throw new Error(o.gl.getShaderInfoLog(n));return n}},{key:"createProgram",value:function(e,t){var n=o.gl.createProgram();if(o.gl.attachShader(n,e),o.gl.attachShader(n,t),o.gl.linkProgram(n),!o.gl.getProgramParameter(n,o.gl.LINK_STATUS))throw new Error(o.gl.getProgramInfoLog(n));this.program=n}},{key:"getAttributeLocations",value:function(){for(var e={},t=o.gl.getProgramParameter(this.program,o.gl.ACTIVE_ATTRIBUTES),n=0;n<t;n+=1){var r=o.gl.getActiveAttrib(this.program,n).name;e[r]=o.gl.getAttribLocation(this.program,r)}this.attributeLocations=e}},{key:"getUniformLocations",value:function(){for(var e={},t=o.gl.getProgramParameter(this.program,o.gl.ACTIVE_UNIFORMS),n=0;n<t;n+=1){var r=o.gl.getActiveUniform(this.program,n).name;e[r]=o.gl.getUniformLocation(this.program,r)}this.uniformLocations=e}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=n(12),u=n(13),s=(r=u)&&r.__esModule?r:{default:r};n(1);new Map;var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queueGeometry=function(e,t,n,r){var i=!0,o=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.geometry===e&&l.material===t)return void l.worldTransforms.push(n)}}catch(e){o=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw u}}r.push(new a.GeometryBatch(e,t,n))},t.getResource("default.mtl").then(function(e){n.defaultMaterial=e}),this.resourceManager=t,this.boundScene=null,this.boundCamera=null,this.boundMaterial=null,this.shaderProgramCache=new Map}return i(e,[{key:"renderScene",value:function(e){var t=this,n=[];e.walkEnabled(function(e){e.components.forEach(function(e){switch(e.constructor.name){case"Model":t.queueRenderable(e,n);break;case"Camera":!t.boundCamera&&e.active&&(t.boundCamera=e)}})}),o.gl.clearColor(.4,.4,.4,1),o.gl.clear(o.gl.COLOR_BUFFER_BIT|o.gl.DEPTH_BUFFER_BIT),this.renderPass(e,n)}},{key:"queueRenderable",value:function(e,t){if(e.mesh){var n=e.getGeometries(),r=e.getMaterials();if(n&&r)for(var i=0;i<n.length;i+=1)this.queueGeometry(n[i],r[i],e.node.transform.worldTransform,t)}}},{key:"renderPass",value:function(e,t){o.gl.frontFace(o.gl.CCW),o.gl.enable(o.gl.CULL_FACE),o.gl.enable(o.gl.DITHER),o.gl.enable(o.gl.DEPTH_TEST),o.gl.depthMask(!0);var n=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,c=s.material,l=s.geometry,f=l.mesh,h=l.vertexCount,m=l.vertexOffset;this.bindAll(f,c),this.drawIndividual(s,o.gl.TRIANGLES,h,o.gl.UNSIGNED_SHORT,m)}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}this.boundMaterial=null,this.boundMesh=null,this.boundScene=null,this.boundShaderProgram=null,this.boundCamera=null}},{key:"bindAll",value:function(e,t){this.bindMaterial(t);this.boundShaderProgram&&(this.boundMesh=e,this.bindShaderAttributes(),this.enableShaderAttributes(e))}},{key:"bindMaterial",value:function(e){var t=this;return this.boundMaterial!==e&&(this.boundMaterial=e,e.shaderProgram?(this.boundShaderProgram=e.shaderProgram,o.gl.useProgram(this.boundShaderProgram.program),!0):void this.resourceManager.getResource(e.shaderSource.url).then(function(n){var r=new s.default(n,e.getDefines());r.compileShaderProgram(),e.shaderProgram=r,t.shaderProgramCache.set(r.key,r),t.boundShaderProgram=r,o.gl.useProgram(r.program)}).catch(function(e){console.error(e)}))}},{key:"bindShaderAttributes",value:function(){o.gl.bindBuffer(o.gl.ARRAY_BUFFER,this.boundMesh.vertexBuffer),o.gl.bindBuffer(o.gl.ELEMENT_ARRAY_BUFFER,this.boundMesh.indiceBuffer)}},{key:"enableShaderAttributes",value:function(){var e=this.boundShaderProgram.attributeLocations,t=this.boundMesh,n=t.attributes,r=t.vertexSize,i=!0,a=!1,u=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,f=l.name,h=l.vertices,m=l.offset;o.gl.enableVertexAttribArray(e[f]),o.gl.vertexAttribPointer(e[f],h,o.gl.FLOAT,!1,r,m)}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}}},{key:"drawIndividual",value:function(e,t,n,r,i){var a=!0,u=!1,s=void 0;try{for(var c,l=e.worldTransforms[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;this.bindTransform(f)&&o.gl.drawElements(t,n,r,2*i)}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}},{key:"bindTransform",value:function(e){if(!this.boundShaderProgram)return!1;var t=this.boundShaderProgram.uniformLocations.u_mvp,n=this.boundCamera,r=n.view,i=n.perspective.mul(r.invert).mul(e).toFloat32Array;return o.gl.uniformMatrix4fv(t,!1,i),!0}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=n(3),u=(r=a)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buffer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"parse",value:function(e){var t=new Image;t.src="data:image/png;base64,"+e,this.buffer=function(e){var t=e.width,n=e.height,r=o.gl.createTexture();return o.gl.bindTexture(o.gl.TEXTURE_2D,r),o.gl.texImage2D(o.gl.TEXTURE_2D,0,o.gl.RGBA,t,n,0,o.gl.RGBA,o.gl.UNSIGNED_BYTE,e),t&t-1==0&&n&n-1==0?o.gl.generateMipmap(o.gl.TEXTURE_2D):(o.gl.texParameteri(o.gl.TEXTURE_2D,o.gl.TEXTURE_WRAP_S,o.gl.CLAMP_TO_EDGE),o.gl.texParameteri(o.gl.TEXTURE_2D,o.gl.TEXTURE_WRAP_T,o.gl.CLAMP_TO_EDGE),o.gl.texParameteri(o.gl.TEXTURE_2D,o.gl.TEXTURE_MIN_FILTER,o.gl.LINEAR)),r}(t)}},{key:"remove",value:function(){o.gl.deleteBuffer(this.buffer),this.buffer=null}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),u=n(3),s=(r=u)&&r.__esModule?r:{default:r};var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.data=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"parse",value:function(e){this.data=e}},{key:"createModifiedSource",value:function(e,t){var n="#version 300 es\n";if(!e)throw new Error("Type of shader is invalid: "+e);return n+=e===a.gl.VERTEX_SHADER?"#define VERTEX\n":"#define FRAGMENT\n",t.forEach(function(e){var t=i(e,2),r=t[0],o=t[1];n+="#define "+r+" "+(o?" = "+o+"\n":"\n")}),n+"#line 1\n"+this.data}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.data=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"parse",value:function(e){this.data=e}},{key:"remove",value:function(){this.data=null}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=c(n(3)),u=c(n(11)),s=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.geometries=[],n.attributes=[],n.vertexSize=null,n.vertexBuffer=null,n.indiceBuffer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"parse",value:function(e){var t=this,n=[],i=[],a=[],c=[],f=[],h=[],m=[],d=[],p=[],y=[],v=/^(\w+) (.+)$/gm,g=/-?\d+\.\d+/g,b=/\d+/g,w="";if("object"===(void 0===e?"undefined":r(e))){for(var _=e.vertexData.length,k=0;k<_;k+=2)n.push(e.vertexData[k+0]),i.push(e.vertexData[k+1]);h.push.apply(h,l(e.indices))}else for(var x={v:function(e){n.push(new(Function.prototype.bind.apply(s.Vec3,[null].concat(l(e[2].match(g).map(parseFloat))))))},vt:function(e){i.push(new(Function.prototype.bind.apply(s.Vec2,[null].concat(l(e[2].match(g).map(parseFloat))))))},vn:function(e){a.push(new(Function.prototype.bind.apply(s.Vec3,[null].concat(l(e[2].match(g).map(parseFloat))))))},f:function(e){h.push.apply(h,l(e[2].match(b).map(function(e){return parseInt(e,10)-1})))},g:function(e){h.push(e[2])},"#":function(e){},o:function(e){},usemtl:function(e){},s:function(e){},mtllib:function(e){}};w=v.exec(e);)try{x[w[1]](w)}catch(e){throw new Error("Failed at parsing mesh file row.",w,e)}n.length&&d.push("a_position");var E=!!i.length;if(E&&d.push("a_texcoord"),a.length||function(e,t,n,r){if(t&&t.length>0)if(r)for(var i=t.length/2*3,o=0;o<i;o+=9){var a=o/9;e.push(n[t[o+0]].getNormal(n[t[o+2]],n[t[o+4]])),t.splice(o+2,0,a),t.splice(o+5,0,a),t.splice(o+8,0,a)}else for(var u=2*t.length,s=0;s<u;s+=6){var c=s/6;e.push(n[t[s+0]].getNormal(n[t[s+1]],n[t[s+2]])),t.splice(s+1,0,c),t.splice(s+3,0,c),t.splice(s+5,0,c)}else for(var l=n.length,f=0;f<l;f+=3){var h=n[f+0].getNormal(n[f+1],n[f+2]);e.push(h,h,h)}}(a,h,n,E),d.push("a_normal"),function(e,t,n){var r=0,i=n?9:6,o=/[a-z_]+(?:\.\w+)?/i;o.test(t[0])&&t.splice(0,1),e.push(new u.default(0,null));for(var a=0;a<t.length;a+=i)o.test(t[a])?(t.splice(a,1),e[e.length-1].vertexCount=3*r,e.push(new u.default(3*a,null)),r=0,a-=1):r+=1;e[e.length-1].vertexCount=3*r}(m,h,E),m.forEach(function(e){e.mesh=t}),E&&(!function(e,t,n,r,i){for(var o=i.length/3*5,a=0;a<o;a+=15){var u=n[i[a+0]],c=n[i[a+3]],l=n[i[a+6]],f=r[i[a+1]],h=r[i[a+4]],m=r[i[a+7]],d=c.x-u.x,p=l.x-u.x,y=c.y-u.y,v=l.y-u.y,g=c.z-u.z,b=l.z-u.z,w=h.x-f.x,_=m.x-f.x,k=h.y-f.y,x=m.y-f.y,E=1/(w*x-_*k),T=new s.Vec3((x*d-k*p)*E,(x*y-k*v)*E,(x*g-k*b)*E).normalize,A=new s.Vec3((w*p-_*d)*E,(w*v-_*y)*E,(w*b-_*g)*E).normalize;e.push(T),t.push(A);var O=a/15;i.splice(a+3,0,O,O),i.splice(a+8,0,O,O),i.splice(a+13,0,O,O)}}(c,f,n,i,h),d.push("a_tangent","a_bitangent")),i)for(var T=h.length,A=0;A<T;A+=5)p.push.apply(p,l(n[h[A+0]].toArray)),p.push.apply(p,l(i[h[A+1]].toArray)),p.push.apply(p,l(a[h[A+2]].toArray)),p.push.apply(p,l(c[h[A+3]].toArray)),p.push.apply(p,l(f[h[A+4]].toArray)),y.push(A/5);else for(var O=h.length,j=0;j<O;j+=2)p.push.apply(p,l(n[h[j+0]].toArray)),p.push.apply(p,l(a[h[j+2]].toArray)),y.push(j/2);var S=function(e,t){var n=o.gl.createBuffer();o.gl.bindBuffer(o.gl.ARRAY_BUFFER,n),o.gl.bufferData(o.gl.ARRAY_BUFFER,e,o.gl.STATIC_DRAW);var r=o.gl.createBuffer();return o.gl.bindBuffer(o.gl.ELEMENT_ARRAY_BUFFER,r),o.gl.bufferData(o.gl.ELEMENT_ARRAY_BUFFER,t,o.gl.STATIC_DRAW),{vertexBuffer:n,indiceBuffer:r}}(new Float32Array(p),new Uint16Array(y));this.geometries=m,this.attributes=function(e){var t=[],n=0;return e.forEach(function(e){switch(e){case"a_position":t.push({name:"a_position",vertices:3,offset:n}),n+=12;break;case"a_texcoord":t.push({name:"a_texcoord",vertices:2,offset:n}),n+=8;break;case"a_normal":t.push({name:"a_normal",vertices:3,offset:n}),n+=12;break;case"a_tangent":t.push({name:"a_tangent",vertices:3,offset:n}),n+=12;break;case"a_bitangent":t.push({name:"a_bitangent",vertices:3,offset:n}),n+=12;break;default:throw new Error("Unknown mesh attribute name: "+e)}}),t}(d),this.vertexSize=function(e){var t=0;return e.forEach(function(e){switch(e){case"a_position":t+=12;break;case"a_texcoord":t+=8;break;case"a_normal":case"a_tangent":case"a_bitangent":t+=12;break;default:throw new Error("Unknown mesh attribute: "+e)}}),t}(d),this.vertexBuffer=S.vertexBuffer,this.indiceBuffer=S.indiceBuffer}},{key:"remove",value:function(){this.geometries.length=0,this.attributes.length=0,o.gl.deleteBuffer(this.vertexBuffer),o.gl.deleteBuffer(this.indiceBuffer),this.vertexBuffer=null,this.indiceBuffer=null}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),s=(r=u)&&r.__esModule?r:{default:r};var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shaderSource=null,n.shaderProgram=null,n.textures=new Map,n.defines=new Map,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"parse",value:function(e){var t=this;return"object"!==(void 0===e?"undefined":o(e))&&JSON.parse(e),this.setDefines(e.defines),function(n){n.getResource(e.shaderSource).then(function(e){t.shaderSource=e}),Object.entries(e.textures).forEach(function(e){var r=i(e,2),o=r[0],a=r[1];n.getResource(a.src).then(function(e){t.textures.set(o,e)})})}}},{key:"addTexture",value:function(e,t){this.textures.set(e,t)}},{key:"setDefines",value:function(e){var t=this;Object.entries(e).forEach(function(e){var n=i(e,2),r=n[0],o=n[1];t.defines.has(r)?t.defines.delete(r):t.defines.set(r,o||null)})}},{key:"getDefines",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=this.defines[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e.push(a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}},{key:"remove",value:function(){this.textures.forEach(function(e){e.remove()}),this.textures.clear(),this.defines.clear()}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);Object.defineProperty(t,"Material",{enumerable:!0,get:function(){return s(r).default}});var i=n(18);Object.defineProperty(t,"Mesh",{enumerable:!0,get:function(){return s(i).default}});var o=n(17);Object.defineProperty(t,"SceneSource",{enumerable:!0,get:function(){return s(o).default}});var a=n(16);Object.defineProperty(t,"ShaderSource",{enumerable:!0,get:function(){return s(a).default}});var u=n(15);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return s(u).default}})},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(5);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=n(0),i=n(25),o=n(6),a=n(4),u=n(24),s=n(23);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!u(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(o)&&u.push("domain="+o),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),a="",u=0,s=r;o.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&t>>8-u%1*8)){if((n=o.charCodeAt(u+=.75))>255)throw new i;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&m())}function m(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||u(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(27),a=n(26);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(37),a=n(4);function u(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var s=u(a);s.Axios=o,s.create=function(e){return u(r.merge(a,e))},s.Cancel=n(5),s.CancelToken=n(22),s.isCancel=n(6),s.all=function(e){return Promise.all(e)},s.spread=n(21),e.exports=s,e.exports.default=s},function(e,t,n){e.exports=n(39)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(40),a=(r=o)&&r.__esModule?r:{default:r},u=n(20);a.default.defaults.baseURL=window.location.origin+"/api/glib",a.default.defaults.headers.common.accept="image/png";var s=/^\.(?:obj|mtl|png|cnf|glsl)$/,c=function(e){if(!e)return new Error("No url defined.");var t=e.lastIndexOf(".");if(-1===t)return new Error("No file extension in url. Url: "+e);var n=e.slice(t);return function(e){return s.test(e)}(n)?void 0:new Error("Illegal file extension: "+n)},l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache=new Map,this.loadQueue=new Map,this.loading=!1}return i(e,[{key:"getResource",value:function(e){var t=this;return new Promise(function(n,r){var i=c(e);if(i)r(i);else if(t.cache.has(e))n(t.cache.get(e));else if(t.loadQueue.has(e))n(t.loadQueue.get(e).resource);else{var o=function(e){switch(e.slice(e.lastIndexOf("."))){case".obj":return new u.Mesh(e);case".mtl":return new u.Material(e);case".png":return new u.Texture(e);case".glsl":return new u.ShaderSource(e);case".cnf":return new u.SceneSource(e);default:throw new Error("Unable to find resource with url: "+e)}}(e);t.loadQueue.set(o.url,{resource:o,callback:function(e){return n(e)}}),t.loadNextResource()}}).catch(function(e){console.error(e)})}},{key:"loadNextResource",value:function(){var e=this;if(!this.loading){var t=this.loadQueue.values().next().value;if(t){this.loading=!0;var n=t.resource,r=t.callback;a.default.get(n.url).then(function(t){e.loadQueue.delete(n.url),e.cache.set(n.url,n);var i=n.parse(t.data);i&&i(e),r(n),e.loading=!1,e.loadNextResource()}).catch(function(e){console.error(e)})}}}},{key:"deleteResource",value:function(e){e.remove(),this.cache.delete(e.url),this.loadQueue.delete(e.url)}},{key:"deleteAllResources",value:function(){this.cache.forEach(function(e){e.delete()}),this.loadQueue.forEach(function(e){e.delete()}),this.cache.clear(),this.loadQueue.clear()}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);Object.defineProperty(t,"firstLetterToUpper",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),a=(r=o)&&r.__esModule?r:{default:r},u=n(1);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.update=function(){},n.active=!0,n.inControl=!0,n.node.transform.translation=new u.Vec3(0,0,5),n._perspective=u.Mat4.perspective(.25*Math.PI,window.innerWidth/window.innerHeight,.01,1e3),n.resize=function(){n.perspective=u.Mat4.perspective(.25*Math.PI,window.innerWidth/window.innerHeight,.01,1e3)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"remove",value:function(){this.node.removeComponent(this),this.node=null}},{key:"view",get:function(){return this.node.transform.worldTransform}},{key:"perspective",set:function(e){this._perspective=e},get:function(){return this._perspective.clone}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),a=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mesh=null,n.materials=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"addMesh",value:function(e){this.mesh=e}},{key:"addMaterial",value:function(e){this.materials.push(e)}},{key:"getGeometries",value:function(){return this.mesh&&this.mesh.geometries||null}},{key:"getMaterials",value:function(){return this.materials.length&&this.materials||null}},{key:"remove",value:function(){this.node.removeComponent(this),this.node=null,this.mesh.remove(),this.mesh=null,this.materials.forEach(function(e){e.remove()}),this.materials.length=0}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45);Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return o(r).default}});var i=n(44);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){throw function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new Error("You should not use Easing contructor...")}return r(e,null,[{key:"linear",value:function(e){return e}},{key:"easeInQuad",value:function(e){return e*e}},{key:"easeOutQuad",value:function(e){return e*(2-e)}},{key:"easeInOutQuad",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"easeInCubic",value:function(e){return e*e*e}},{key:"easeOutCubic",value:function(e){return(e-=1)*e*e+1}},{key:"easeInOutCubic",value:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},{key:"easeInQuart",value:function(e){return e*e*e*e}},{key:"easeOutQuart",value:function(e){return 1-(e-=1)*e*e*e}},{key:"easeInOutQuart",value:function(e){return e<.5?8*e*e*e*e:1-8*(e-=1)*e*e*e}},{key:"easeInQuint",value:function(e){return e*e*e*e*e}},{key:"easeOutQuint",value:function(e){return 1+(e-=1)*e*e*e*e}},{key:"easeInOutQuint",value:function(e){return e<.5?16*e*e*e*e*e:1+16*(e-=1)*e*e*e*e}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1);var o=Math.sin,a=Math.cos,u=Math.acos,s=Math.abs,c=Math.sqrt,l=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.w=t||0,this.x=n||0,this.y=r||0,this.z=i||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"fromEulers",value:function(t,n,r){var i=a(.5*n),u=a(.5*r),s=a(.5*t),c=o(.5*n),l=o(.5*r),f=o(.5*t);return new e(i*u*s-c*l*f,i*u*f+c*l*s,c*u*s+i*l*f,i*l*s-c*u*f).normalize}},{key:"fromAxisAngle",value:function(t,n){var r=1/t.len,i=o(n/2);return new e(a(n/2),i*t.x*r,i*t.y*r,i*t.z*r).normalize}},{key:"fromRotation",value:function(t,n){var r=t.add(n),i=t.cross(r);return new e(t.dot(r),i.x,i.y,i.z).normalize}},{key:"identity",get:function(){return new e(1,0,0,0)}},{key:"up",get:function(){return new e(.707,.707,0,0)}},{key:"down",get:function(){return new e(.707,-.707,0,0)}},{key:"left",get:function(){return new e(.707,0,.707,0)}},{key:"right",get:function(){return new e(.707,0,-.707,0)}},{key:"backward",get:function(){return new e(0,0,1,0)}},{key:"upsideDown",get:function(){return new e(0,0,0,1)}},{key:"tiltLeft",get:function(){return new e(.707,0,0,.707)}},{key:"tiltRight",get:function(){return new e(.707,0,0,-.707)}}]),r(e,[{key:"mul",value:function(t){var n=this.w,r=this.x,i=this.y,o=this.z,a=t.w,u=t.x,s=t.y,c=t.z;return new e(n*a-r*u-i*s-o*c,r*a+n*u+i*c-o*s,i*a+n*s+o*u-r*c,o*a+n*c+r*s-i*u).normalize}},{key:"dot",value:function(e){return this.w*e.w+this.x*e.x+this.y*e.y+this.z*e.z}},{key:"cross",value:function(e){throw new Error("Quaternion cross not implemented "+e)}},{key:"scaleRotation",value:function(t){var n=u(this.w)*t,r=new i.Vec3(this.x,this.y,this.z).scale(o(n));return new e(a(n),r.x,r.y,r.z)}},{key:"lerp",value:function(e,t){return t>=1?e:this.scaleRotation(1-t).multiply(e.scaleRotation(t))}},{key:"nlerp",value:function(e,t){return this.lerp(e,t).normalize}},{key:"slerp",value:function(t,n){if(n<=0)return this;if(n>=1)return t;var r=this.dot(t);if(s(r)>=1)return this;r<0&&(t.w=-t.w,t.x=-t.x,t.y=-t.y,t.z=-t.z,r=-r);var i=c(1-r*r);if(s(i)<.001)return new e(.5*(this.w+t.w),.5*(this.x+t.x),.5*(this.y+t.y),.5*(this.z+t.z)).normalize;var a=u(r),l=o((1-n)*a)/i,f=o(n*a)/i;return new e(this.w*l+t.w*f,this.x*l+t.x*f,this.y*l+t.y*f,this.z*l+t.z*f).normalize}},{key:"clone",get:function(){return new e(this.w,this.x,this.y,this.z)}},{key:"toArray",get:function(){return[this.w,this.x,this.y,this.z]}},{key:"toMat3",get:function(){var e=this.w,t=this.x,n=this.y,r=this.z,o=t*e,a=t*t,u=t*n,s=t*r,c=n*e,l=n*n,f=n*r,h=r*e,m=r*r;return new i.Mat3(1-2*(l+m),2*(u-h),2*(s+c),2*(u+h),1-2*(a+m),2*(f-o),2*(s-c),2*(f+o),1-2*(a+l))}},{key:"toMat4",get:function(){return this.toMat3.toMat4}},{key:"toEulers",get:function(){throw new Error("Quaternion toEuler not implemented")}},{key:"len",get:function(){return c(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lenSqrt",get:function(){return this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z}},{key:"conjugate",get:function(){return new e(this.w,-this.x,-this.y,-this.z)}},{key:"normalize",get:function(){var t=c(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);return t>0?(t=1/t,new e(this.w*t,this.x*t,this.y*t,this.z*t)):new e(1,0,0,0)}},{key:"invert",get:function(){var t=1/this.len;return new e(this.w*t,-this.x*t,-this.y*t,-this.z*t)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1);var o=Math.sin,a=Math.cos,u=Math.tan,s=function(){function e(t,n,r,i,o,a,u,s,c,l,f,h,m,d,p,y){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.m00=t||0,this.m01=n||0,this.m02=r||0,this.m03=i||0,this.m10=o||0,this.m11=a||0,this.m12=u||0,this.m13=s||0,this.m20=c||0,this.m21=l||0,this.m22=f||0,this.m23=h||0,this.m30=m||0,this.m31=d||0,this.m32=p||0,this.m33=y||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"perspective",value:function(t,n,r,i){var o=1/u(t/2),a=1/(r-i);return new e(o/n,0,0,0,0,o,0,0,0,0,(r+i)*a,-1,0,0,r*i*a*2,0)}},{key:"orthographic",value:function(t,n,r,i,o,a){var u=1/(t-n),s=1/(r-i),c=1/(o-a);return new e(2*u,0,0,0,0,2*s,0,0,0,0,2*c,0,(t+n)*u,(i+r)*s,(a+o)*c,1)}},{key:"translate",value:function(t,n,r){return new e(1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1)}},{key:"rotateX",value:function(t){var n=a(t),r=o(t);return new e(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1)}},{key:"rotateY",value:function(t){var n=a(t),r=o(t);return new e(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}},{key:"rotateZ",value:function(t){var n=a(t),r=o(t);return new e(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}},{key:"scale",value:function(t,n,r){return new e(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1)}},{key:"identity",get:function(){return new e(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}]),r(e,[{key:"lookAt",value:function(t,n){var r=this.sub(t).normalize,i=n.cross(r),o=r.cross(i);return new e(i.x,i.y,i.z,0,o.x,o.y,o.z,0,r.x,r.y,r.z,0,this.x,this.y,this.z,1)}},{key:"add",value:function(t){return new e(this.m00+t.m00,this.m01+t.m01,this.m02+t.m02,this.m03+t.m03,this.m10+t.m10,this.m11+t.m11,this.m12+t.m12,this.m13+t.m13,this.m20+t.m20,this.m21+t.m21,this.m22+t.m22,this.m23+t.m23,this.m30+t.m30,this.m31+t.m31,this.m32+t.m32,this.m33+t.m33)}},{key:"sub",value:function(t){return new e(this.m00-t.m00,this.m01-t.m01,this.m02-t.m02,this.m03-t.m03,this.m10-t.m10,this.m11-t.m11,this.m12-t.m12,this.m13-t.m13,this.m20-t.m20,this.m21-t.m21,this.m22-t.m22,this.m23-t.m23,this.m30-t.m30,this.m31-t.m31,this.m32-t.m32,this.m33-t.m33)}},{key:"mul",value:function(t){return new e(t.m00*this.m00+t.m01*this.m10+t.m02*this.m20+t.m03*this.m30,t.m00*this.m01+t.m01*this.m11+t.m02*this.m21+t.m03*this.m31,t.m00*this.m02+t.m01*this.m12+t.m02*this.m22+t.m03*this.m32,t.m00*this.m03+t.m01*this.m13+t.m02*this.m23+t.m03*this.m33,t.m10*this.m00+t.m11*this.m10+t.m12*this.m20+t.m13*this.m30,t.m10*this.m01+t.m11*this.m11+t.m12*this.m21+t.m13*this.m31,t.m10*this.m02+t.m11*this.m12+t.m12*this.m22+t.m13*this.m32,t.m10*this.m03+t.m11*this.m13+t.m12*this.m23+t.m13*this.m33,t.m20*this.m00+t.m21*this.m10+t.m22*this.m20+t.m23*this.m30,t.m20*this.m01+t.m21*this.m11+t.m22*this.m21+t.m23*this.m31,t.m20*this.m02+t.m21*this.m12+t.m22*this.m22+t.m23*this.m32,t.m20*this.m03+t.m21*this.m13+t.m22*this.m23+t.m23*this.m33,t.m30*this.m00+t.m31*this.m10+t.m32*this.m20+t.m33*this.m30,t.m30*this.m01+t.m31*this.m11+t.m32*this.m21+t.m33*this.m31,t.m30*this.m02+t.m31*this.m12+t.m32*this.m22+t.m33*this.m32,t.m30*this.m03+t.m31*this.m13+t.m32*this.m23+t.m33*this.m33)}},{key:"clone",get:function(){return new e(this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33)}},{key:"toArray",get:function(){return[this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33])}},{key:"toMat3",get:function(){return new i.Mat3(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}},{key:"toQuat",get:function(){return this.toMat3.toQuat}},{key:"invert",get:function(){var t=this.m00,n=this.m01,r=this.m02,i=this.m03,o=this.m10,a=this.m11,u=this.m12,s=this.m13,c=this.m20,l=this.m21,f=this.m22,h=this.m23,m=this.m30,d=this.m31,p=this.m32,y=this.m33,v=a*f*y-a*h*p-l*u*y+l*s*p+d*u*h-d*s*f,g=-o*f*y+o*h*p+c*u*y-c*s*p-m*u*h+m*s*f,b=o*l*y-o*h*d-c*a*y+c*s*d+m*a*h-m*s*l,w=-o*l*p+o*f*d+c*a*p-c*u*d-m*a*f+m*u*l,_=t*v+n*g+r*b+i*w;if(0===_)throw new Error("Cannot invert matrix",this);return new e((_=1/_)*v,_*-n*f*y+n*h*p+l*r*y-l*i*p-d*r*h+d*i*f,_*n*u*y-n*s*p-a*r*y+a*i*p+d*r*s-d*i*u,_*-n*u*h+n*s*f+a*r*h-a*i*f-l*r*s+l*i*u,_*g,_*t*f*y-t*h*p-c*r*y+c*i*p+m*r*h-m*i*f,_*-t*u*y+t*s*p+o*r*y-o*i*p-m*r*s+m*i*u,_*t*u*h-t*s*f-o*r*h+o*i*f+c*r*s-c*i*u,_*b,_*-t*l*y+t*h*d+c*n*y-c*i*d-m*n*h+m*i*l,_*t*a*y-t*s*d-o*n*y+o*i*d+m*n*s-m*i*a,_*-t*a*h+t*s*l+o*n*h-o*i*l-c*n*s+c*i*a,_*w,_*t*l*p-t*f*d-c*n*p+c*r*d+m*n*f-m*r*l,_*-t*a*p+t*u*d+o*n*p-o*r*d-m*n*u+m*r*a,_*t*a*f-t*u*l-o*n*f+o*r*l+c*n*u-c*r*a)}},{key:"transpose",get:function(){return new e(this.m00,this.m10,this.m20,this.m30,this.m01,this.m11,this.m21,this.m31,this.m02,this.m12,this.m22,this.m32,this.m03,this.m13,this.m23,this.m33)}},{key:"translation",get:function(){return new i.Vec3(this.m30,this.m31,this.m32)}},{key:"scale",get:function(){return new i.Vec3(new i.Vec3(this.m00,this.m10,this.m20).len,new i.Vec3(this.m01,this.m11,this.m21).len,new i.Vec3(this.m02,this.m12,this.m22).len)}},{key:"rotation",get:function(){return new i.Mat3(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1);var o=Math.sqrt,a=function(){function e(t,n,r,i,o,a,u,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.m00=t,this.m01=n,this.m02=r,this.m10=i,this.m11=o,this.m12=a,this.m20=u,this.m21=s,this.m22=c}return r(e,null,[{key:"identity",get:function(){return new e(1,0,0,0,1,0,0,0,1)}}]),r(e,[{key:"multiplyVector",value:function(t){return new e(this.m00*t.x+this.m01*t.y+this.m02*t.z,this.m10*t.x+this.m11*t.y+this.m12*t.z,this.m20*t.x+this.m21*t.y+this.m22*t.z)}},{key:"add",value:function(t){return new e(this.m00+t.m00,this.m01+t.m01,this.m02+t.m02,this.m10+t.m10,this.m11+t.m11,this.m12+t.m12,this.m20+t.m20,this.m21+t.m21,this.m22+t.m22)}},{key:"sub",value:function(t){return new e(this.m00-t.m00,this.m01-t.m01,this.m02-t.m02,this.m10-t.m10,this.m11-t.m11,this.m12-t.m12,this.m20-t.m20,this.m21-t.m21,this.m22-t.m22)}},{key:"mul",value:function(t){var n=this.m01,r=this.m02,i=this.m03,o=this.m11,a=this.m12,u=this.m13,s=this.m21,c=this.m22,l=this.m23,f=t.m01,h=t.m02,m=t.m03,d=t.m11,p=t.m12,y=t.m13,v=t.m21,g=t.m22,b=t.m23;return new e(n*f+r*d+i*v,n*h+r*p+i*g,n*m+r*y+i*b,o*f+a*d+u*v,o*h+a*p+u*g,o*m+a*y+u*b,s*f+c*d+l*v,s*h+c*p+l*g,s*m+c*y+l*b)}},{key:"clone",get:function(){return new e(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}},{key:"toArray",get:function(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22])}},{key:"toMat4",get:function(){return new i.Mat4(this.m00,this.m01,this.m02,0,this.m10,this.m11,this.m12,0,this.m20,this.m21,this.m22,0,0,0,0,1)}},{key:"toQuat",get:function(){var e=this.m00+this.m11+this.m22,t=void 0;return e>0?(t=.5/o(e+1),new i.Quat(.25/t,(this.m21-this.m12)*t,(this.m02-this.m20)*t)):this.m00>this.m11&&this.m00>this.m22?(t=2*o(1+this.m00-this.m11-this.m22),new i.Quat((this.m21-this.m12)/t,.25*t,(this.m01+this.m10)/t,(this.m02+this.m20)/t)):this.m11>this.m22?(t=2*o(1+this.m11-this.m00-this.m22),new i.Quat((this.m02-this.m20)/t,(this.m01+this.m10)/t,.25*t,(this.m12+this.m21)/t)):(t=2*o(1+this.m22-this.m00-this.m11),new i.Quat((this.m10-this.m01)/t,(this.m02+this.m20)/t,(this.m12+this.m21)/t))}}]),e}();a.fromArray=function(e){return new(Function.prototype.bind.apply(a,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))))},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=Math.sqrt,o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0,this.z=r||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"fromQuat",value:function(t){var n=this.x,r=this.y,i=this.z,o=t.x,a=t.y,u=t.z,s=t.w,c=s*n+a*i-u*r,l=s*r+u*n-o*i,f=s*i+o*r-a*n,h=-o*n-a*r-u*i;return new e(c*s+h*-o+l*-u-f*-a,l*s+h*-a+f*-o-c*-u,f*s+h*-u+c*-a-l*-o)}},{key:"fromMat4",value:function(t){return new e(t.a14+t.a11*this.x+t.a12*this.y+t.a13*this.z,t.a24+t.a21*this.x+t.a22*this.y+t.a23*this.z,t.a34+t.a31*this.x+t.a32*this.y+t.a33*this.z)}},{key:"zero",get:function(){return new e(0,0,0)}},{key:"up",get:function(){return new e(0,1,0)}},{key:"down",get:function(){return new e(0,-1,0)}},{key:"left",get:function(){return new e(-1,0,0)}},{key:"right",get:function(){return new e(1,0,0)}},{key:"forward",get:function(){return new e(0,0,1)}},{key:"backward",get:function(){return new e(0,0,-1)}},{key:"one",get:function(){return new e(1,1,1)}}]),r(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y,this.z+t.z)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t,this.z*t)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"cross",value:function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}},{key:"lerp",value:function(t,n){return new e(this.x+(t.x-this.x)*n,this.y+(t.y-this.y)*n,this.z+(t.z-this.z)*n)}},{key:"getNormal",value:function(e,t){return this.sub(e).cross(this.sub(t)).normalize}},{key:"getAngle",value:function(e){return this.normalize.dot(e.normalize)}},{key:"forward",get:function(){return this.normalize}},{key:"backward",get:function(){return this.normalize.invert}},{key:"left",get:function(){return this.forward.cross(e.up).normalize}},{key:"right",get:function(){return this.forward.cross(e.up).normalize.invert}},{key:"down",get:function(){return this.forward.cross(this.left).normalize}},{key:"up",get:function(){return this.forward.cross(this.left).normalize.invert}},{key:"toArray",get:function(){return[this.x,this.y,this.z]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.x,this.y,this.z])}},{key:"clone",get:function(){return new e(this.x,this.y,this.z)}},{key:"len",get:function(){return i(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lenSqrt",get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"normalize",get:function(){var t=i(this.x*this.x+this.y*this.y+this.z*this.z);return t>0?(t=1/t,new e(this.x*t,this.y*t,this.z*t)):new e(0,0,0)}},{key:"invert",get:function(){return new e(-this.x,-this.y,-this.z)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=Math.sqrt,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))}},{key:"zero",get:function(){return new e(0,0)}},{key:"up",get:function(){return new e(0,1)}},{key:"down",get:function(){return new e(0,-1)}},{key:"left",get:function(){return new e(-1,0)}},{key:"right",get:function(){return new e(1,0)}}]),r(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"getAngle",value:function(e){return this.normalize.dot(e.normalize)}},{key:"invert",value:function(){return new e(-this.x,-this.y)}},{key:"toArray",get:function(){return[this.x,this.y]}},{key:"toFloat32Array",get:function(){return new Float32Array([this.x,this.y])}},{key:"clone",get:function(){return new e(this.x,this.y)}},{key:"len",get:function(){return i(this.x*this.x+this.y*this.y)}},{key:"lenSqrt",get:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",get:function(){var t=i(this.x*this.x+this.y*this.y);return t>0?(t=1/t,new e(this.x*t,this.y*t)):new e(0,0)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.r=t||0,this.g=n||0,this.b=r||0}return r(e,null,[{key:"fromArray",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(i(t))))}},{key:"fromHex",value:function(t){return new(Function.prototype.bind.apply(e,[null].concat(i([t.slice(2,4),t.slice(4,6),t.slice(6,8)].map(function(e){return parseInt(e,16)/255})))))}},{key:"white",get:function(){return new e(1,1,1)}},{key:"red",get:function(){return new e(1,0,0)}},{key:"green",get:function(){return new e(0,1,0)}},{key:"blue",get:function(){return new e(0,0,1)}},{key:"black",get:function(){return new e(0,0,0)}}]),r(e,[{key:"copy",get:function(){return new e(this.r,this.g,this.b)}},{key:"toArray",get:function(){return[this.r,this.g,this.b]}},{key:"toHex",get:function(){return"0x"+[(255*this.r).toString(16),(255*this.g).toString(16),(255*this.b).toString(16)].map(function(e){return e.length<2?"'0'"+e:e}).join("")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t||null,this._startTranslation=null,this._targetTranslation=null,this._startRotation=null,this._targetRotation=null,this._startScale=null,this._targetScale=null,this._origin=i.Vec3.zero,this._rotateAroundOrigin=!1,this._localTranslation=i.Vec3.zero,this._localScale=i.Vec3.one,this._localRotation=i.Quat.identity,this._localTransformUnscaled=i.Mat4.identity,this._localTransform=i.Mat4.identity,this._worldTransformUnscaled=i.Mat4.identity,this._worldTransform=i.Mat4.identity,this._worldTransformDirty=!0}return r(e,[{key:"translate",value:function(e){this.setWorldTransformDirty(),this._localTranslation=this._localTranslation.add(e)}},{key:"rotate",value:function(e){this.setWorldTransformDirty(),this._localRotation=this._localRotation.mul(e)}},{key:"setWorldTransformDirty",value:function(){this._worldTransformDirty||this.node.walkEnabled(function(e){e.transform._worldTransformDirty=!0})}},{key:"updateLocalTransform",value:function(){var e=i.Mat4.identity,t=this._localTranslation,n=this._localRotation.toMat3,r=this._localScale;if(e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m10=n.m10,e.m11=n.m11,e.m12=n.m12,e.m20=n.m20,e.m21=n.m21,e.m22=n.m22,this._rotateAroundOrigin){var o=this._origin,a=o.x,u=o.y,s=o.z;e.m30=a*n.m00+u*n.m10+s*n.m20+t.x,e.m31=a*n.m01+u*n.m11+s*n.m21+t.y,e.m32=a*n.m02+u*n.m12+s*n.m22+t.z}else e.m30=t.x,e.m31=t.y,e.m32=t.z;this._localTransformUnscaled=e.clone,e.m00*=r.x,e.m01*=r.x,e.m02*=r.x,e.m10*=r.y,e.m11*=r.y,e.m12*=r.y,e.m20*=r.z,e.m21*=r.z,e.m22*=r.z,this._localTransform=e}},{key:"updateWorldTransform",value:function(){this.updateLocalTransform(),this.node.parent?(this._worldTransformUnscaled=this.node.parent.transform.worldTransformUnscaled.mul(this._localTransformUnscaled),this._worldTransform=this.node.parent.transform.worldTransformUnscaled.mul(this._localTransform)):(this._worldTransformUnscaled=this._localTransformUnscaled.clone,this._worldTransform=this._localTransform.clone),this._worldTransformDirty=!1}},{key:"right",get:function(){var e=this.worldTransform,t=e.m00,n=e.m10,r=e.m20;return new i.Vec3(t,n,r)}},{key:"up",get:function(){var e=this.worldTransform,t=e.m01,n=e.m11,r=e.m21;return new i.Vec3(t,n,r)}},{key:"forward",get:function(){var e=this.worldTransform,t=e.m02,n=e.m12,r=e.m22;return new i.Vec3(t,n,r)}},{key:"translation",set:function(e){this.setWorldTransformDirty(),this._localTranslation=new i.Vec3(e.x,e.y,e.z)},get:function(){return this._localTranslation}},{key:"rotation",set:function(e){this.setWorldTransformDirty(),this._localRotation=i.Quat.fromEulers(e.x,e.y,e.z)},get:function(){return this._localRotation}},{key:"scale",set:function(e){this.setWorldTransformDirty(),this._localScale=new i.Vec3(e.x,e.y,e.z)},get:function(){return this._localScale}},{key:"origin",set:function(e){this._rotateAroundOrigin=0!==e.lenSqrt,this._origin=e},get:function(){return this._origin}},{key:"worldTransform",get:function(){return this._worldTransformDirty&&this.updateWorldTransform(),this._worldTransform.clone}},{key:"worldTransformUnscaled",get:function(){return this._worldTransformDirty&&this.updateWorldTransform(),this._worldTransformUnscaled.clone}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.GeometryBatch=function e(t,n,i){r(this,e),this.geometry=t||null,this.material=n||null,this.worldTransforms=[i]},t.LightBatch=function e(t,n,i,o,a,u,s){r(this,e),this.type=t||null,this.color=[n],this.range=[i],this.diffuseStrength=[o],this.specularStrength=[a],this.shininess=[u],this.worldTransforms=[s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(12);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t||null,this.parent=n||null,this.transform=new i.Transform(this),this.children=[],this.components=[]}return r(e,[{key:"addChild",value:function(){var t=new e(this.scene,this);return this.children.push(t),t}},{key:"removeChild",value:function(e){e.scene=null,e.parent=null,this.children.splice(this.children.indexOf(e),1)}},{key:"addComponent",value:function(e){var t=new e(this);return this.components.push(t),t}},{key:"removeComponent",value:function(e){this.components.splice(this.components.indexOf(e),1)}},{key:"remove",value:function(){for(var e=this.children,t=this.components;e.length>0;)e[e.length-1].remove();for(;t.length>0;)t[t.length-1].remove();this.scene=null,this.parent=null,this.transform.node=null,this.transform=null,this.parent.removeChild(this)}},{key:"walkEnabled",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.children[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.walkEnabled(e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}e(this)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(56),u=(r=a)&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(46)),c=n(43);var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.scene=e,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"buildFromResource",value:function(e,t){var n=this;e.data.nodes.forEach(function(e){!function e(t,n,r){var i=n.addChild();if(!t.components)throw new Error("No components object defined for node in scene configuration file.");Object.entries(t.components).forEach(function(e){var t=o(e,2),n=t[0],a=t[1],u=(0,c.firstLetterToUpper)(n),l=s[u];if(!l)throw new Error("Illegal component type: "+u);var f=i.addComponent(l);switch(u){case"Model":r.getResource(a.mesh).then(function(e){f.addMesh(e)}),a.materials.forEach(function(e){r.getResource(e).then(function(e){f.addMaterial(e)})})}}),Object.entries(t.transform).forEach(function(e){var t=o(e,2),n=t[0],r=t[1],a=r.x,u=r.y,s=r.z;if(isNaN(a)||isNaN(u)||isNaN(s))throw new Error("Nodedata is missing coordinates for "+n);i.transform[n]=r}),t.nodes.forEach(function(t){e(t,i,r)})}(e,n,t)})}},{key:"remove",value:function(){for(var e=this.children,t=this.components;e.length>0;)e[e.length-1].remove();for(;t.length>0;)t[t.length-1].remove()}}]),t}();t.default=l},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),u=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,c=0,l=[],f=n(58);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(g(r.parts[a],t))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(g(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:u}}}}function m(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function d(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function y(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),d(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=s||(s=y(t)),r=_.bind(null,n,a,!1),i=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}.bind(null,n,t),i=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return h(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(u=o[a.id]).refs--,r.push(u)}e&&h(m(e,t),t);for(i=0;i<r.length;i++){var u;if(0===(u=r[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete o[u.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function _(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){(e.exports=n(60)(!1)).push([e.i,"\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nhtml, body {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\ncanvas {\r\n  background: gray;\r\n}\r\n",""])},function(e,t,n){var r=n(61);"string"==typeof r&&(r=[[e.i,r,""]]);var i={singleton:!0,sourceMap:!1,convertToAbsoluteUrls:!0,hmr:!0,transform:void 0,insertInto:void 0};n(59)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";n(62);var r,i=n(2),o=(r=i)&&r.__esModule?r:{default:r},a=n(1);new o.default({elementId:"root",canvasId:"canvas"}).createScene("scene.cnf");var u=i.gl.createShader(i.gl.VERTEX_SHADER),s=i.gl.createShader(i.gl.FRAGMENT_SHADER);i.gl.shaderSource(u,"#version 300 es\nin vec3 a_pos;\nin vec3 a_col;\nuniform mat4 u_m;\nuniform mat4 u_v;\nuniform mat4 u_p;\nuniform mat4 u_mvp;\nout vec3 a_fragColor;\nvoid main () {\n  a_fragColor = a_col;\n  gl_Position = u_mvp * vec4(a_pos, 1.0);\n}"),i.gl.shaderSource(s,"#version 300 es\nprecision mediump float;\nin vec3 a_pos;\nin vec3 a_fragColor;\nout vec4 fragColor;\nvoid main () {\n  fragColor = vec4(a_fragColor, 1.0);\n}"),i.gl.compileShader(u),i.gl.compileShader(s);var c=i.gl.createProgram();i.gl.attachShader(c,u),i.gl.attachShader(c,s),i.gl.linkProgram(c);var l=i.gl.getAttribLocation(c,"a_pos"),f=i.gl.getAttribLocation(c,"a_col"),h=(i.gl.getUniformLocation(c,"u_m"),i.gl.getUniformLocation(c,"u_v"),i.gl.getUniformLocation(c,"u_p"),i.gl.getUniformLocation(c,"u_mvp")),m=i.gl.createBuffer();i.gl.bindBuffer(i.gl.ARRAY_BUFFER,m),i.gl.bufferData(i.gl.ARRAY_BUFFER,new Float32Array([-.5,-.5,0,1,0,1,.5,-.5,0,0,1,0,0,.5,0,0,0,1,0,.5,0,0,1,0,.5,-.5,0,0,1,0,1,.5,0,0,1,0]),i.gl.STATIC_DRAW);var d=i.gl.createBuffer();i.gl.bindBuffer(i.gl.ELEMENT_ARRAY_BUFFER,d),i.gl.bufferData(i.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,3,4,5]),i.gl.STATIC_DRAW),i.gl.bindBuffer(i.gl.ARRAY_BUFFER,m),i.gl.bindBuffer(i.gl.ELEMENT_ARRAY_BUFFER,d),i.gl.enableVertexAttribArray(l),i.gl.enableVertexAttribArray(f),i.gl.vertexAttribPointer(l,3,i.gl.FLOAT,!1,24,0),i.gl.vertexAttribPointer(f,3,i.gl.FLOAT,!1,24,12),i.gl.clearColor(0,0,0,0),i.gl.clear(i.gl.COLOR_BUFFER_BIT),i.gl.useProgram(c);var p=a.Mat4.translate(0,0,-5).mul(a.Mat4.rotateY(1)),y=a.Mat4.identity.invert,v=a.Mat4.perspective(.25*Math.PI,window.innerWidth/window.innerHeight,.01,1e3).mul(y).mul(p);i.gl.uniformMatrix4fv(h,!1,v.toFloat32Array),i.gl.drawArrays(i.gl.TRIANGLES,0,6)}]);