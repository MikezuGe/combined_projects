!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=23)}([function(e,t,r){"use strict";e.exports=r(27)},function(e,t,r){"use strict";var n=r(15),s=r(51),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:s,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,s=arguments.length;n<s;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,s){e[s]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){e.exports=r(29)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36);Object.defineProperty(t,"Color",{enumerable:!0,get:function(){return l(n).default}});var s=r(37);Object.defineProperty(t,"Vec2",{enumerable:!0,get:function(){return l(s).default}});var i=r(38);Object.defineProperty(t,"Vec3",{enumerable:!0,get:function(){return l(i).default}});var o=r(39);Object.defineProperty(t,"Mat3",{enumerable:!0,get:function(){return l(o).default}});var a=r(40);Object.defineProperty(t,"Mat4",{enumerable:!0,get:function(){return l(a).default}});var u=r(41);Object.defineProperty(t,"Quat",{enumerable:!0,get:function(){return l(u).default}});var c=r(42);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Easing",{enumerable:!0,get:function(){return l(c).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gl=void 0;var n=u(r(11)),s=u(r(32)),i=u(r(48)),o=u(r(74)),a=r(6);function u(e){return e&&e.__esModule?e:{default:e}}const c=new s.default,l=new i.default,h=new o.default(l),f=document.createElement("canvas"),d=f.getContext("webgl2");t.default=class{constructor({elementId:e,canvasId:t}){f.id=t||"canvas",f.width=window.innerWidth,f.height=window.innerHeight,d.viewport(0,0,d.canvas.width,d.canvas.height),a.windowResizeEvent.subscribe(({target:{innerWidth:e,innerHeight:t}})=>{f.width=e,f.height=t,d.viewport(0,0,e,t)}),document.getElementById(e||"root").appendChild(f)}createScene(e){l.getResource(e,e=>{c.buildFromResource(e,l);const t=()=>{requestAnimationFrame(t),c.update(),n.default.update(),h.renderScene(c)};requestAnimationFrame(t),console.log(c)})}},t.gl=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.url=e}parse(){throw new Error(`No parse method defined for Resource type ${this.constructor.name}.`)}remove(){throw new Error(`No remove method defined for resource type ${this.constructor.name}.`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e=!1,t=!1){this.subscribers=[],this.invoke=this.getInvoker(e,t)}subscribe(e){this.subscribers.includes(e)||this.subscribers.push(e)}unsubscribe(e){this.subscribers.includes(e)&&this.subscribers.splice(this.subscribers.indexOf(e))}getInvoker(e,t){return e&&t?e=>{e.preventDefault(),e.stopPropagation(),this.subscribers.forEach(t=>t(e))}:e?e=>{e.preventDefault(),this.subscribers.forEach(t=>t(e))}:t?e=>{e.stopPropagation(),this.subscribers.forEach(t=>t(e))}:e=>{this.subscribers.forEach(t=>t(e))}}}t.default=n;const s=new n,i=new n(!0,!0),o=new n(!1,!0),a=new n(!0,!0),u=new n(!0,!0),c=new n(!0,!0);window.addEventListener("resize",s.invoke,!1),window.addEventListener("keyup",i.invoke,!1),window.addEventListener("keydown",o.invoke,!1),window.addEventListener("mouseup",a.invoke,!1),window.addEventListener("mousedown",u.invoke,!1),window.addEventListener("mousemove",c.invoke,!1),t.windowResizeEvent=s,t.windowKeyupEvent=i,t.windowKeydownEvent=o,t.windowMouseupEvent=a,t.windowMousedownEvent=u,t.windowMousemoveEvent=c},function(e,t,r){"use strict";(function(t){var n=r(1),s=r(53),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(16):void 0!==t&&(e=r(16)),e}(),transformRequest:[function(e,t){return s(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){a.headers[e]={}}),n.forEach(["post","put","patch"],function(e){a.headers[e]=n.merge(i)}),e.exports=a}).call(this,r(10))},function(e,t,r){e.exports=function e(t){"use strict";var r=/^\0+/g,n=/[\0\r\f]/g,s=/: */g,i=/zoo|gra/,o=/([,: ])(transform)/g,a=/,+\s*(?![^(]*[)])/g,u=/ +\s*(?![^(]*[)])/g,c=/ *[\0] */g,l=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,m=/@(k\w+)\s*(\S*)\s*/,p=/::(place)/g,g=/:(read-only)/g,y=/\s+(?=[{\];=:>])/g,v=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,x=/([^\(])(:+) */g,_=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,A=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,O="-webkit-",M="-moz-",P="-ms-",R=59,j=125,I=123,z=40,F=41,L=91,D=93,N=10,$=13,U=9,B=64,q=32,V=38,W=45,H=95,Q=42,X=44,G=58,Y=39,K=34,J=47,Z=62,ee=43,te=126,re=0,ne=12,se=11,ie=107,oe=109,ae=115,ue=112,ce=111,le=105,he=99,fe=100,de=112,me=1,pe=1,ge=0,ye=1,ve=1,be=1,we=0,xe=0,_e=0,Te=[],Se=[],Ae=0,Ee=null,Ce=-2,ke=-1,Oe=0,Me=1,Pe=2,Re=3,je=0,Ie=1,ze="",Fe="",Le="";function De(e,t,s,i,o){for(var a,u,l=0,h=0,f=0,d=0,y=0,v=0,b=0,w=0,_=0,S=0,A=0,E=0,C=0,k=0,H=0,we=0,Se=0,Ee=0,Ce=0,ke=s.length,$e=ke-1,He="",Qe="",Xe="",Ge="",Ye="",Ke="";H<ke;){if(b=s.charCodeAt(H),H===$e&&h+d+f+l!==0&&(0!==h&&(b=h===J?N:J),d=f=l=0,ke++,$e++),h+d+f+l===0){if(H===$e&&(we>0&&(Qe=Qe.replace(n,"")),Qe.trim().length>0)){switch(b){case q:case U:case R:case $:case N:break;default:Qe+=s.charAt(H)}b=R}if(1===Se)switch(b){case I:case j:case R:case K:case Y:case z:case F:case X:Se=0;case U:case $:case N:case q:break;default:for(Se=0,Ce=H,y=b,H--,b=R;Ce<ke;)switch(s.charCodeAt(Ce++)){case N:case $:case R:++H,b=y,Ce=ke;break;case G:we>0&&(++H,b=y);case I:Ce=ke}}switch(b){case I:for(Qe=Qe.trim(),y=Qe.charCodeAt(0),A=1,Ce=++H;H<ke;){switch(b=s.charCodeAt(H)){case I:A++;break;case j:A--;break;case J:switch(v=s.charCodeAt(H+1)){case Q:case J:H=We(v,H,$e,s)}break;case L:b++;case z:b++;case K:case Y:for(;H++<$e&&s.charCodeAt(H)!==b;);}if(0===A)break;H++}switch(Xe=s.substring(Ce,H),y===re&&(y=(Qe=Qe.replace(r,"").trim()).charCodeAt(0)),y){case B:switch(we>0&&(Qe=Qe.replace(n,"")),v=Qe.charCodeAt(1)){case fe:case oe:case ae:case W:a=t;break;default:a=Te}if(Xe=De(t,a,Xe,v,o+1),Ce=Xe.length,_e>0&&0===Ce&&(Ce=Qe.length),Ae>0&&(a=Ne(Te,Qe,Ee),u=Ve(Re,Xe,a,t,pe,me,Ce,v,o,i),Qe=a.join(""),void 0!==u&&0===(Ce=(Xe=u.trim()).length)&&(v=0,Xe="")),Ce>0)switch(v){case ae:Qe=Qe.replace(T,qe);case fe:case oe:case W:Xe=Qe+"{"+Xe+"}";break;case ie:Qe=Qe.replace(m,"$1 $2"+(Ie>0?ze:"")),Xe=Qe+"{"+Xe+"}",Xe=1===ve||2===ve&&Be("@"+Xe,3)?"@"+O+Xe+"@"+Xe:"@"+Xe;break;default:Xe=Qe+Xe,i===de&&(Ge+=Xe,Xe="")}else Xe="";break;default:Xe=De(t,Ne(t,Qe,Ee),Xe,i,o+1)}Ye+=Xe,E=0,Se=0,k=0,we=0,Ee=0,C=0,Qe="",Xe="",b=s.charCodeAt(++H);break;case j:case R:if(Qe=(we>0?Qe.replace(n,""):Qe).trim(),(Ce=Qe.length)>1)switch(0===k&&((y=Qe.charCodeAt(0))===W||y>96&&y<123)&&(Ce=(Qe=Qe.replace(" ",":")).length),Ae>0&&void 0!==(u=Ve(Me,Qe,t,e,pe,me,Ge.length,i,o,i))&&0===(Ce=(Qe=u.trim()).length)&&(Qe="\0\0"),y=Qe.charCodeAt(0),v=Qe.charCodeAt(1),y){case re:break;case B:if(v===le||v===he){Ke+=Qe+s.charAt(H);break}default:if(Qe.charCodeAt(Ce-1)===G)break;Ge+=Ue(Qe,y,v,Qe.charCodeAt(2))}E=0,Se=0,k=0,we=0,Ee=0,Qe="",b=s.charCodeAt(++H)}}switch(b){case $:case N:if(h+d+f+l+xe===0)switch(S){case F:case Y:case K:case B:case te:case Z:case Q:case ee:case J:case W:case G:case X:case R:case I:case j:break;default:k>0&&(Se=1)}h===J?h=0:ye+E===0&&i!==ie&&Qe.length>0&&(we=1,Qe+="\0"),Ae*je>0&&Ve(Oe,Qe,t,e,pe,me,Ge.length,i,o,i),me=1,pe++;break;case R:case j:if(h+d+f+l===0){me++;break}default:switch(me++,He=s.charAt(H),b){case U:case q:if(d+l+h===0)switch(w){case X:case G:case U:case q:He="";break;default:b!==q&&(He=" ")}break;case re:He="\\0";break;case ne:He="\\f";break;case se:He="\\v";break;case V:d+h+l===0&&ye>0&&(Ee=1,we=1,He="\f"+He);break;case 108:if(d+h+l+ge===0&&k>0)switch(H-k){case 2:w===ue&&s.charCodeAt(H-3)===G&&(ge=w);case 8:_===ce&&(ge=_)}break;case G:d+h+l===0&&(k=H);break;case X:h+f+d+l===0&&(we=1,He+="\r");break;case K:case Y:0===h&&(d=d===b?0:0===d?b:d);break;case L:d+h+f===0&&l++;break;case D:d+h+f===0&&l--;break;case F:d+h+l===0&&f--;break;case z:if(d+h+l===0){if(0===E)switch(2*w+3*_){case 533:break;default:A=0,E=1}f++}break;case B:h+f+d+l+k+C===0&&(C=1);break;case Q:case J:if(d+l+f>0)break;switch(h){case 0:switch(2*b+3*s.charCodeAt(H+1)){case 235:h=J;break;case 220:Ce=H,h=Q}break;case Q:b===J&&w===Q&&Ce+2!==H&&(33===s.charCodeAt(Ce+2)&&(Ge+=s.substring(Ce,H+1)),He="",h=0)}}if(0===h){if(ye+d+l+C===0&&i!==ie&&b!==R)switch(b){case X:case te:case Z:case ee:case F:case z:if(0===E){switch(w){case U:case q:case N:case $:He+="\0";break;default:He="\0"+He+(b===X?"":"\0")}we=1}else switch(b){case z:k+7===H&&108===w&&(k=0),E=++A;break;case F:0==(E=--A)&&(we=1,He+="\0")}break;case U:case q:switch(w){case re:case I:case j:case R:case X:case ne:case U:case q:case N:case $:break;default:0===E&&(we=1,He+="\0")}}Qe+=He,b!==q&&b!==U&&(S=b)}}_=w,w=b,H++}if(Ce=Ge.length,_e>0&&0===Ce&&0===Ye.length&&0===t[0].length==0&&(i!==oe||1===t.length&&(ye>0?Fe:Le)===t[0])&&(Ce=t.join(",").length+2),Ce>0){if(a=0===ye&&i!==ie?function(e){for(var t,r,s=0,i=e.length,o=Array(i);s<i;++s){for(var a=e[s].split(c),u="",l=0,h=0,f=0,d=0,m=a.length;l<m;++l)if(!(0===(h=(r=a[l]).length)&&m>1)){if(f=u.charCodeAt(u.length-1),d=r.charCodeAt(0),t="",0!==l)switch(f){case Q:case te:case Z:case ee:case q:case z:break;default:t=" "}switch(d){case V:r=t+Fe;case te:case Z:case ee:case q:case F:case z:break;case L:r=t+r+Fe;break;case G:switch(2*r.charCodeAt(1)+3*r.charCodeAt(2)){case 530:if(be>0){r=t+r.substring(8,h-1);break}default:(l<1||a[l-1].length<1)&&(r=t+Fe+r)}break;case X:t="";default:r=h>1&&r.indexOf(":")>0?t+r.replace(x,"$1"+Fe+"$2"):t+r+Fe}u+=r}o[s]=u.replace(n,"").trim()}return o}(t):t,Ae>0&&void 0!==(u=Ve(Pe,Ge,a,e,pe,me,Ce,i,o,i))&&0===(Ge=u).length)return Ke+Ge+Ye;if(Ge=a.join(",")+"{"+Ge+"}",ve*ge!=0){switch(2!==ve||Be(Ge,2)||(ge=0),ge){case ce:Ge=Ge.replace(g,":"+M+"$1")+Ge;break;case ue:Ge=Ge.replace(p,"::"+O+"input-$1")+Ge.replace(p,"::"+M+"$1")+Ge.replace(p,":"+P+"input-$1")+Ge}ge=0}}return Ke+Ge+Ye}function Ne(e,t,r){var n=t.trim().split(l),s=n,i=n.length,o=e.length;switch(o){case 0:case 1:for(var a=0,u=0===o?"":e[0]+" ";a<i;++a)s[a]=$e(u,s[a],r,o).trim();break;default:for(var a=0,c=0,s=[];a<i;++a)for(var h=0;h<o;++h)s[c++]=$e(e[h]+" ",n[a],r,o).trim()}return s}function $e(e,t,r,n){var s=t,i=s.charCodeAt(0);switch(i<33&&(i=(s=s.trim()).charCodeAt(0)),i){case V:switch(ye+n){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(h,"$1"+e.trim())}break;case G:switch(s.charCodeAt(1)){case 103:if(be>0&&ye>0)return s.replace(f,"$1").replace(h,"$1"+Le);break;default:return e.trim()+s.replace(h,"$1"+e.trim())}default:if(r*ye>0&&s.indexOf("\f")>0)return s.replace(h,(e.charCodeAt(0)===G?"":"$1")+e.trim())}return e+s}function Ue(e,t,r,n){var c,l=0,h=e+";",f=2*t+3*r+4*n;if(944===f)return function(e){var t=e.length,r=e.indexOf(":",9)+1,n=e.substring(0,r).trim(),s=e.substring(r,t-1).trim();switch(e.charCodeAt(9)*Ie){case 0:break;case W:if(110!==e.charCodeAt(10))break;default:for(var i=s.split((s="",a)),o=0,r=0,t=i.length;o<t;r=0,++o){for(var c=i[o],l=c.split(u);c=l[r];){var h=c.charCodeAt(0);if(1===Ie&&(h>B&&h<90||h>96&&h<123||h===H||h===W&&c.charCodeAt(1)!==W))switch(isNaN(parseFloat(c))+(-1!==c.indexOf("("))){case 1:switch(c){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:c+=ze}}l[r++]=c}s+=(0===o?"":",")+l.join(" ")}}return s=n+s+";",1===ve||2===ve&&Be(s,1)?O+s+s:s}(h);if(0===ve||2===ve&&!Be(h,1))return h;switch(f){case 1015:return 97===h.charCodeAt(10)?O+h+h:h;case 951:return 116===h.charCodeAt(3)?O+h+h:h;case 963:return 110===h.charCodeAt(5)?O+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return O+h+h;case 978:return O+h+M+h+h;case 1019:case 983:return O+h+M+h+P+h+h;case 883:return h.charCodeAt(8)===W?O+h+h:h.indexOf("image-set(",11)>0?h.replace(k,"$1"+O+"$2")+h:h;case 932:if(h.charCodeAt(4)===W)switch(h.charCodeAt(5)){case 103:return O+"box-"+h.replace("-grow","")+O+h+P+h.replace("grow","positive")+h;case 115:return O+h+P+h.replace("shrink","negative")+h;case 98:return O+h+P+h.replace("basis","preferred-size")+h}return O+h+P+h+h;case 964:return O+h+P+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return c=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),O+"box-pack"+c+O+h+P+"flex-pack"+c+h;case 1005:return i.test(h)?h.replace(s,":"+O)+h.replace(s,":"+M)+h:h;case 1e3:switch(c=h.substring(13).trim(),l=c.indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(l)){case 226:c=h.replace(_,"tb");break;case 232:c=h.replace(_,"tb-rl");break;case 220:c=h.replace(_,"lr");break;default:return h}return O+h+P+c+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(l=(h=e).length-10,c=(33===h.charCodeAt(l)?h.substring(0,l):h).substring(e.indexOf(":",7)+1).trim(),f=c.charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(c.charCodeAt(8)<111)break;case 115:h=h.replace(c,O+c)+";"+h;break;case 207:case 102:h=h.replace(c,O+(f>102?"inline-":"")+"box")+";"+h.replace(c,O+c)+";"+h.replace(c,P+c+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===W)switch(h.charCodeAt(6)){case 105:return c=h.replace("-items",""),O+h+O+"box-"+c+P+"flex-"+c+h;case 115:return O+h+P+"flex-item-"+h.replace(A,"")+h;default:return O+h+P+"flex-line-pack"+h.replace("align-content","").replace(A,"")+h}break;case 973:case 989:if(h.charCodeAt(3)!==W||122===h.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ue(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):h.replace(c,O+c)+h.replace(c,M+c.replace("fill-",""))+h;break;case 962:if(h=O+h+(102===h.charCodeAt(5)?P+h:"")+h,r+n===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(o,"$1"+O+"$2")+h}return h}function Be(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10),s=e.substring(r+1,e.length-1);return Ee(2!==t?n:n.replace(E,"$1"),s,t)}function qe(e,t){var r=Ue(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(S," or ($1)").substring(4):"("+t+")"}function Ve(e,t,r,n,s,i,o,a,u,c){for(var l,h=0,f=t;h<Ae;++h)switch(l=Se[h].call(Qe,e,f,r,n,s,i,o,a,u,c)){case void 0:case!1:case!0:case null:break;default:f=l}switch(f){case void 0:case!1:case!0:case null:case t:break;default:return f}}function We(e,t,r,n){for(var s=t+1;s<r;++s)switch(n.charCodeAt(s)){case J:if(e===Q&&n.charCodeAt(s-1)===Q&&t+2!==s)return s+1;break;case N:if(e===J)return s+1}return s}function He(e){for(var t in e){var r=e[t];switch(t){case"keyframe":Ie=0|r;break;case"global":be=0|r;break;case"cascade":ye=0|r;break;case"compress":we=0|r;break;case"semicolon":xe=0|r;break;case"preserve":_e=0|r;break;case"prefix":Ee=null,r?"function"!=typeof r?ve=1:(ve=2,Ee=r):ve=0}}return He}function Qe(t,r){if(void 0!==this&&this.constructor===Qe)return e(t);var s=t,i=s.charCodeAt(0);i<33&&(i=(s=s.trim()).charCodeAt(0)),Ie>0&&(ze=s.replace(d,i===L?"":"-")),i=1,1===ye?Le=s:Fe=s;var o,a=[Le];Ae>0&&void 0!==(o=Ve(ke,r,a,a,pe,me,0,0,0,0))&&"string"==typeof o&&(r=o);var u=De(Te,a,r,0,0);return Ae>0&&void 0!==(o=Ve(Ce,u,a,a,pe,me,u.length,0,0,0))&&"string"!=typeof(u=o)&&(i=0),ze="",Le="",Fe="",ge=0,pe=1,me=1,we*i==0?u:function(e){return e.replace(n,"").replace(y,"").replace(v,"$1").replace(b,"$1").replace(w," ")}(u)}return Qe.use=function e(t){switch(t){case void 0:case null:Ae=Se.length=0;break;default:switch(t.constructor){case Array:for(var r=0,n=t.length;r<n;++r)e(t[r]);break;case Function:Se[Ae++]=t;break;case Boolean:je=0|!!t}}return e},Qe.set=He,void 0!==t&&He(t),Qe}(null)},function(e,t,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,r,h){if("string"!=typeof r){if(l){var f=c(r);f&&f!==l&&e(t,f,h)}var d=o(r);a&&(d=d.concat(a(r)));for(var m=0;m<d.length;++m){var p=d[m];if(!(n[p]||s[p]||h&&h[p])){var g=u(r,p);try{i(t,p,g)}catch(e){}}}return t}return t}},function(e,t){var r,n,s=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||l||a(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);const{abs:s}=Math;const i=new class{constructor(){this.keyup=(e=>{this.keys.includes(e.key)&&this.keys.splice(this.keys.indexOf(e.key),1)}),this.keydown=(e=>{this.keys.includes(e.key)||this.keys.push(e.key)}),this.mouseup=(e=>{this[`mouse${e.button}`].press=!1,this[`mouse${e.button}`].hold=!1,this[`mouse${e.button}`].drag=!1,this[`mouse${e.button}`].sx=null,this[`mouse${e.button}`].sx=null,this[`mouse${e.button}`].dx=null,this[`mouse${e.button}`].dy=null;for(let e=0;e<3;e++)if(this[`mouse${e}`].press)return;this.mouse.press=!1}),this.mousedown=(e=>{this.mouse.press=!0,this[`mouse${e.button}`].press=!0,this[`mouse${e.button}`].sx=e.clientX,this[`mouse${e.button}`].sy=e.clientY}),this.mousemove=(({clientX:e,clientY:t})=>{const r=this.mouse;if(r.dx=e-r.x,r.dy=r.y-t,r.x=e,r.y=t,this.mouse.press)for(let r=0;r<3;r++){const n=this[`mouse${r}`];n.press&&(n.hold=!0,n.dx=e-n.sx,n.dy=t-n.sy,!n.drag&&(s(n.dx)>20||s(n.dy)>20)&&(n.drag=!0))}}),this.mouse={press:!1,x:null,y:null,dx:0,dy:0},this.mouse0={},this.mouse1={},this.mouse2={};for(let e=0;e<3;e++)this[`mouse${e}`].press=!1,this[`mouse${e}`].hold=!1,this[`mouse${e}`].drag=!1,this[`mouse${e}`].sx=null,this[`mouse${e}`].sx=null,this[`mouse${e}`].dx=null,this[`mouse${e}`].dy=null;this.keys=[]}getKeys(){return this.keys}getMouse(){return this.mouse}getMouse0(){return this.mouse0}getMouse1(){return this.mouse1}getMouse2(){return this.mouse2}update(){const e=this.mouse;e.dx=0,e.dy=0}};n.windowKeydownEvent.subscribe(i.keydown),n.windowKeyupEvent.subscribe(i.keyup),n.windowMouseupEvent.subscribe(i.mouseup),n.windowMousedownEvent.subscribe(i.mousedown),n.windowMousemoveEvent.subscribe(i.mousemove),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);Object.defineProperty(t,"GeometryBatch",{enumerable:!0,get:function(){return n.GeometryBatch}}),Object.defineProperty(t,"LightBatch",{enumerable:!0,get:function(){return n.LightBatch}});var s=r(13);Object.defineProperty(t,"Geometry",{enumerable:!0,get:function(){return o(s).default}});var i=r(35);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.mesh=null,this.vertexOffset=e,this.vertexCount=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.node=e||null,this.type=t}update(){throw new Error(`No update method implemented for a component type ${this.type}`)}remove(){throw new Error(`No remove method implemented for a component type ${this.type}`)}}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(1),s=r(54),i=r(56),o=r(57),a=r(58),u=r(17),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(59);e.exports=function(e){return new Promise(function(t,l){var h=e.data,f=e.headers;n.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest,m="onreadystatechange",p=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,m="onload",p=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var g=e.auth.username||"",y=e.auth.password||"";f.Authorization="Basic "+c(g+":"+y)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[m]=function(){if(d&&(4===d.readyState||p)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};s(t,l,n),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=r(60),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&n.forEach(f,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===h&&(h=null),d.send(h)})}},function(e,t,r){"use strict";var n=r(55);e.exports=function(e,t,r,s,i){var o=new Error(e);return n(o,t,r,s,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=r(26),s=/^ms-/;e.exports=function(e){return n(e).replace(s,"-ms-")}},function(e,t,r){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,s,i,o,a,u,c,l,h){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(s[0]+n),"";default:return n+(0===h?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}}()},function(e,t,r){"use strict";e.exports=r(31)},function(e,t,r){"use strict";var n=r(24),s=r(4),i=function(e){return e&&e.__esModule?e:{default:e}}(s),o=r(3);n.injectGlobal`
* {
  font-family: 'Ubuntu', sans-serif;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-size: 16px;
}

html body {
  height: 100vh;
  width: 100vw;
  overflow: hidden;
}

#root {
  width: 100%;
  height: 100%;
}

canvas {
  width: 100%;
  height: 100%;
  background: gray;
}
`,new i.default({elementId:"root",canvasId:"canvas"}).createScene("def.default.cnf");const a=s.gl.createShader(s.gl.VERTEX_SHADER),u=s.gl.createShader(s.gl.FRAGMENT_SHADER);s.gl.shaderSource(a,"#version 300 es\nin vec3 a_pos;\nin vec3 a_col;\nuniform mat4 u_m;\nuniform mat4 u_v;\nuniform mat4 u_p;\nuniform mat4 u_mvp;\nout vec3 a_fragColor;\nvoid main () {\n  a_fragColor = a_col;\n  gl_Position = u_mvp * vec4(a_pos, 1.0);\n}"),s.gl.shaderSource(u,"#version 300 es\nprecision mediump float;\nin vec3 a_pos;\nin vec3 a_fragColor;\nout vec4 fragColor;\nvoid main () {\n  fragColor = vec4(a_fragColor, 1.0);\n}"),s.gl.compileShader(a),s.gl.compileShader(u);const c=s.gl.createProgram();s.gl.attachShader(c,a),s.gl.attachShader(c,u),s.gl.linkProgram(c);const l=s.gl.getAttribLocation(c,"a_pos"),h=s.gl.getAttribLocation(c,"a_col"),f=s.gl.getUniformLocation(c,"u_mvp"),d=s.gl.createBuffer();s.gl.bindBuffer(s.gl.ARRAY_BUFFER,d),s.gl.bufferData(s.gl.ARRAY_BUFFER,new Float32Array([-.5,-.5,0,1,0,1,.5,-.5,0,0,1,0,0,.5,0,0,0,1,0,.5,0,0,1,0,.5,-.5,0,0,1,0,1,.5,0,0,1,0]),s.gl.STATIC_DRAW);const m=s.gl.createBuffer();s.gl.bindBuffer(s.gl.ELEMENT_ARRAY_BUFFER,m),s.gl.bufferData(s.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,3,4,5]),s.gl.STATIC_DRAW),s.gl.bindBuffer(s.gl.ARRAY_BUFFER,d),s.gl.bindBuffer(s.gl.ELEMENT_ARRAY_BUFFER,m),s.gl.enableVertexAttribArray(l),s.gl.enableVertexAttribArray(h),s.gl.vertexAttribPointer(l,3,s.gl.FLOAT,!1,24,0),s.gl.vertexAttribPointer(h,3,s.gl.FLOAT,!1,24,12),s.gl.clearColor(0,0,0,0),s.gl.clear(s.gl.COLOR_BUFFER_BIT),s.gl.useProgram(c);const p=o.Mat4.translate(0,0,-5).mul(o.Mat4.rotateY(1)),g=o.Mat4.identity.invert,y=o.Mat4.perspective(.25*Math.PI,window.innerWidth/window.innerHeight,.01,1e3).mul(g).mul(p);s.gl.uniformMatrix4fv(f,!1,y.toFloat32Array),s.gl.drawArrays(s.gl.TRIANGLES,0,6)},function(e,t,r){"use strict";r.r(t),function(e,n){r.d(t,"css",function(){return B}),r.d(t,"keyframes",function(){return Qe}),r.d(t,"injectGlobal",function(){return Xe}),r.d(t,"isStyledComponent",function(){return z}),r.d(t,"consolidateStreamedStyles",function(){return F}),r.d(t,"ThemeProvider",function(){return Re}),r.d(t,"withTheme",function(){return Be}),r.d(t,"ServerStyleSheet",function(){return pe}),r.d(t,"StyleSheetManager",function(){return me}),r.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return qe});var s=r(20),i=r.n(s),o=r(0),a=r.n(o),u=r(8),c=r.n(u),l=r(21),h=r.n(l),f=r(2),d=r.n(f),m=r(9),p=r.n(m),g=r(22),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},_=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(e){return"object"===(void 0===e?"undefined":y(e))&&e.constructor===Object};var A=function(e){function t(r){v(this,t);for(var n=arguments.length,s=Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];var o=T(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+r+" for more information. "+(s?"Additional arguments: "+s.join(", "):"")));return T(o)}return x(t,e),t}(Error),E=function e(t,r){return t.reduce(function(t,n){if(void 0===n||null===n||!1===n||""===n)return t;if(Array.isArray(n))return t.push.apply(t,e(n,r)),t;if(n.hasOwnProperty("styledComponentId"))return t.push("."+n.styledComponentId),t;if("function"==typeof n){if(r){var s=n(r);if(a.a.isValidElement(s)){var o=n.displayName||n.name;throw new A(11,o)}t.push.apply(t,e([s],r))}else t.push(n);return t}return t.push(S(n)?function e(t,r){var n=Object.keys(t).filter(function(e){var r=t[e];return void 0!==r&&null!==r&&!1!==r&&""!==r}).map(function(r){return S(t[r])?e(t[r],r):i()(r)+": "+t[r]+";"}).join(" ");return r?r+" {\n  "+n+"\n}":n}(n):n.toString()),t},[])},C=/^\s*\/\/.*$/gm,k=new c.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),O=new c.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),M=[],P=function(e){if(-2===e){var t=M;return M=[],t}},R=h()(function(e){M.push(e)});O.use([R,P]),k.use([R,P]);var j=function(e,t,r){var n=e.join("").replace(C,"");return O(r||!t?"":t,t&&r?r+" "+t+" { "+n+" }":n)},I=function(e){return k("",e)};function z(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function F(){0}var L=function(e){return String.fromCharCode(e+(e>25?39:97))},D=function(e){var t="",r=void 0;for(r=e;r>52;r=Math.floor(r/52))t=L(r%52)+t;return L(r%52)+t},N=function(e,t){for(var r=[e[0]],n=0,s=t.length;n<s;n+=1)r.push(t[n],e[n+1]);return r},$=Object.freeze([]),U=Object.freeze({}),B=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e||S(e)?E(N($,[e].concat(r))):E(N(e,r))},q=void 0!==e&&e.env.SC_ATTR||"data-styled-components",V="__styled-components-stylesheet__",W="undefined"!=typeof window&&"HTMLElement"in window,H=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,Q=function(e){var t=""+(e||""),r=[];return t.replace(H,function(e,t,n){return r.push({componentId:t,matchIndex:n}),e}),r.map(function(e,n){var s=e.componentId,i=e.matchIndex,o=r[n+1];return{componentId:s,cssFromDOM:o?t.slice(i,o.matchIndex):t.slice(i)}})},X=function(){return r.nc},G=function(e,t,r){r&&((e[t]||(e[t]=Object.create(null)))[r]=!0)},Y=function(e,t){e[t]=Object.create(null)},K=function(e){return function(t,r){return void 0!==e[t]&&e[t][r]}},J=function(e){var t="";for(var r in e)t+=Object.keys(e[r]).join(" ")+" ";return t.trim()},Z=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,r=0;r<t;r+=1){var n=document.styleSheets[r];if(n.ownerNode===e)return n}throw new A(10)},ee=function(e,t,r){if(!t)return!1;var n=e.cssRules.length;try{e.insertRule(t,r<=n?r:n)}catch(e){return!1}return!0},te=function(e){return"\n/* sc-component-id: "+e+" */\n"},re=function(e,t){for(var r=0,n=0;n<=t;n+=1)r+=e[n];return r},ne=function(e,t){return function(r){var n=X();return"<style "+[n&&'nonce="'+n+'"',q+'="'+J(t)+'"',r].filter(Boolean).join(" ")+">"+e()+"</style>"}},se=function(e,t){return function(){var r,n=((r={})[q]=J(t),r),s=X();return s&&(n.nonce=s),a.a.createElement("style",w({},n,{dangerouslySetInnerHTML:{__html:e()}}))}},ie=function(e){return function(){return Object.keys(e)}},oe=function e(t,r){var n=void 0===t?Object.create(null):t,s=void 0===r?Object.create(null):r,i=function(e){var t=s[e];return void 0!==t?t:s[e]=[""]},o=function(){var e="";for(var t in s){var r=s[t][0];r&&(e+=te(t)+r)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var r in e)t[r]=w({},e[r]);return t}(n),r=Object.create(null);for(var i in s)r[i]=[s[i][0]];return e(t,r)},css:o,getIds:ie(s),hasNameForId:K(n),insertMarker:i,insertRules:function(e,t,r){i(e)[0]+=t.join(" "),G(n,e,r)},removeRules:function(e){var t=s[e];void 0!==t&&(t[0]="",Y(n,e))},styleTag:null,toElement:se(o,n),toHTML:ne(o,n)}},ae=function(e,t,r,n,s){if(W&&!r){var i=function(e,t,r){var n=document.createElement("style");n.setAttribute(q,"");var s=X();if(s&&n.setAttribute("nonce",s),n.appendChild(document.createTextNode("")),e&&!t)e.appendChild(n);else{if(!t||!e||!t.parentNode)throw new A(6);t.parentNode.insertBefore(n,r?t:t.nextSibling)}return n}(e,t,n);return function(e,t){var r=Object.create(null),n=Object.create(null),s=[],i=void 0!==t,o=!1,a=function(e){var t=n[e];return void 0!==t?t:(n[e]=s.length,s.push(0),Y(r,e),n[e])},u=function(){var t=Z(e).cssRules,r="";for(var i in n){r+=te(i);for(var o=n[i],a=re(s,o),u=a-s[o];u<a;u+=1){var c=t[u];void 0!==c&&(r+=c.cssText)}}return r};return{styleTag:e,getIds:ie(n),hasNameForId:K(r),insertMarker:a,insertRules:function(n,u,c){for(var l=a(n),h=Z(e),f=re(s,l),d=0,m=[],p=u.length,g=0;g<p;g+=1){var y=u[g],v=i;v&&-1!==y.indexOf("@import")?m.push(y):ee(h,y,f+d)&&(v=!1,d+=1)}i&&m.length>0&&(o=!0,t().insertRules(n+"-import",m)),s[l]+=d,G(r,n,c)},removeRules:function(a){var u=n[a];if(void 0!==u){var c=s[u];!function(e,t,r){for(var n=t-r,s=t;s>n;s-=1)e.deleteRule(s)}(Z(e),re(s,u),c),s[u]=0,Y(r,a),i&&o&&t().removeRules(a+"-import")}},css:u,toHTML:ne(u,r),toElement:se(u,r),clone:function(){throw new A(5)}}}(i,s)}return oe()},ue=/\s+/,ce=void 0;ce=W?1e3:-1;var le,he=0,fe=void 0,de=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W?document.head:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var r=t.tags[0];return t.importRuleTag=ae(t.target,r?r.styleTag:null,t.forceServer,!0)},he+=1,this.id=he,this.sealed=!1,this.forceServer=n,this.target=n?null:r,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!W||this.forceServer)return this;var e=[],t=[],r=!1,n=document.querySelectorAll("style["+q+"]"),s=n.length;if(0===s)return this;for(var i=0;i<s;i+=1){var o=n[i];r||(r=!!o.getAttribute("data-styled-streamed"));for(var a=(o.getAttribute(q)||"").trim().split(ue),u=a.length,c=0;c<u;c+=1){var l=a[c];this.rehydratedNames[l]=!0}t.push.apply(t,Q(o.textContent)),e.push(o)}var h=t.length;if(0===h)return this;var f=function(e,t,r,n){var s=function(e){var t=!1;return function(){t||(t=!0,e())}}(function(){for(var n=0,s=r.length;n<s;n+=1){var i=r[n],o=i.componentId,a=i.cssFromDOM,u=I(a);e.insertRules(o,u)}for(var c=0,l=t.length;c<l;c+=1){var h=t[c];h.parentNode&&h.parentNode.removeChild(h)}});return n&&s(),w({},e,{insertMarker:function(t){return s(),e.insertMarker(t)},insertRules:function(t,r,n){return s(),e.insertRules(t,r,n)}})}(this.makeTag(null),e,t,r);this.capacity=Math.max(1,ce-h),this.tags.push(f);for(var d=0;d<h;d+=1)this.tagMap[t[d].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];fe=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var r=e.getIds(),n=e.clone(),s=0;s<r.length;s+=1)t.tagMap[r[s]]=n;return n}),t.rehydratedNames=w({},this.rehydratedNames),t.deferred=w({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.sealed=!0},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ae(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!this.sealed)return t;var r=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=ce,this.sealed=!1,r=this.makeTag(r),this.tags.push(r)),this.tagMap[e]=r},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var r=this.tagMap[e];return void 0!==r&&r.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var r=this.clones,n=0;n<r.length;n+=1)r[n].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,r){for(var n=this.clones,s=0;s<n.length;s+=1)n[s].inject(e,t,r);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var o=this.deferred[e].concat(t);i.insertRules(e,o,r),this.deferred[e]=void 0}else i.insertRules(e,t,r)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var r=this.clones,n=0;n<r.length;n+=1)r[n].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,r){var n="sc-"+e+"-"+r;return Object(o.cloneElement)(t.toElement(),{key:n})})},b(e,null,[{key:"master",get:function(){return fe||(fe=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),me=function(e){function t(){return v(this,t),T(this,e.apply(this,arguments))}return x(t,e),t.prototype.getChildContext=function(){var e;return(e={})[V]=this.sheetInstance,e},t.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new A(4);this.sheetInstance=new de(this.props.target)}},t.prototype.render=function(){return a.a.Children.only(this.props.children)},t}(o.Component);me.childContextTypes=((le={})[V]=d.a.oneOfType([d.a.instanceOf(de),d.a.instanceOf(pe)]).isRequired,le);var pe=function(){function e(){v(this,e),this.masterSheet=de.master,this.instance=this.masterSheet.clone(),this.closed=!1}return e.prototype.complete=function(){if(!this.closed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.closed=!0}},e.prototype.collectStyles=function(e){if(this.closed)throw new A(2);return a.a.createElement(me,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new A(3)},e}(),ge=function(e,t,r){var n=r&&e.theme===r.theme;return e.theme&&!n?e.theme:t},ye=/[[\].#*$><+~=|^:(),"'`-]+/g,ve=/(^-|-$)/g;function be(e){return e.replace(ye,"-").replace(ve,"")}function we(e){return e.displayName||e.name||"Component"}function xe(e){return"string"==typeof e}var _e=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:Animation|Touch|Load|Drag)Start|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|Lo(?:stPointer|ad)|TimeUpdate|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|GotPointer|MouseDown|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|KeyPress|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|P(?:rogress|laying)|DragEnd|Key(?:Down|Up)|(?:MouseU|Dro)p|(?:Wait|Seek)ing|Scroll|Focus|Paste|Abort|Drag|Play|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|onPointerLeav|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|onPointerMov|(?:attribute|glyph)Nam|playsInlin|(?:writing|input|edge)Mod|(?:formE|e)ncTyp|(?:amplitu|mo)d|(?:xlinkTy|itemSco|keyTy|slo)p|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|l(?:ip(?:Path)?|ass)|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|auto[Ff]ocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|on(?:PointerDow|FocusI)|formActio|zoomAndPa|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:gradientT|patternT|t)ransform|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|onPointerOu|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|markerStar|a(?:utoCorrec|bou)|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|(?:markerM|onInval)i|preloa|metho|kin)d|strokeDasharray|(?:onPointerCanc|lab)el|(?:allowFullScre|hidd)en|systemLanguage|(?:(?:o(?:nPointer(?:Ent|Ov)|rd)|allowReord|placehold|frameBord|paintOrd|post)e|repeatDu|d(?:efe|u))r|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|(?:strokeLineca|onPointerU|itemPro|useMa|wra|loo)p|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|(?:vI|i)deographic|unicodeRange|mathematical|vAlphabetic|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|(?:xmlnsXl|valueL)ink|mediaGroup|spellCheck|(?:text|m(?:in|ax))Length|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|autoPlay|o(?:verflow|pen)|f(?:o(?:ntSize|rm?)|il(?:ter|l))|r(?:e(?:quired|sult|f))?|divisor|p(?:attern|oints)|unicode|d(?:efault|ata|ir)?|i(?:temRef|n2|s)|t(?:arget[XY]|o)|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|prefix|typeof|itemID|s(?:t(?:roke|art)|hape|cope|rc)|t(?:arget|ype)|(?:stri|la)ng|a(?:ccept|s)|m(?:edia|a(?:sk|x)|in)|x(?:mlns)?|width|value|size|href|k(?:ey)?|end|low|by|i[dn]|y[12]|g[12]|x[12]|f[xy]|[yz])$/,Te=RegExp.prototype.test.bind(new RegExp("^(x|data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),Se=function(e){return _e.test(e)||Te(e.toLowerCase())};var Ae,Ee,Ce="__styled-components__",ke=Ce+"next__",Oe=d.a.shape({getTheme:d.a.func,subscribe:d.a.func,unsubscribe:d.a.func}),Me=((Ae={})[Ce]=d.a.func,Ae[ke]=Oe,Ae);var Pe,Re=function(e){function t(){v(this,t);var r=T(this,e.call(this));return r.unsubscribeToOuterId=-1,r.getTheme=r.getTheme.bind(r),r}return x(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[ke];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=function(e){var t={},r=0,n=e;return{publish:function(e){for(var r in n=e,t){var s=t[r];void 0!==s&&s(n)}},subscribe:function(e){var s=r;return t[s]=e,r+=1,e(n),s},unsubscribe:function(e){t[e]=void 0}}}(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return w({},this.context,((e={})[ke]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Ce]=function(e){var r=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(r)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[ke].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if(function(e){return"function"==typeof e}(t))return t(this.outerTheme);if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":y(t)))throw new A(8);return w({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?a.a.Children.only(this.props.children):null},t}(o.Component);Re.childContextTypes=Me,Re.contextTypes=((Ee={})[ke]=Oe,Ee);var je={},Ie=w({},Me,((Pe={})[V]=d.a.oneOfType([d.a.instanceOf(de),d.a.instanceOf(pe)]),Pe)),ze={};var Fe=function(e){function t(){var r,n;v(this,t);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=n=T(this,e.call.apply(e,[this].concat(i))),n.attrs={},n.state={theme:null,generatedClassName:""},n.unsubscribeId=-1,T(n,r)}return x(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[ke].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var r=this.constructor.attrs,n=w({},t,{theme:e});return void 0===r?n:(this.attrs=Object.keys(r).reduce(function(e,t){var s=r[t];return e[t]="function"!=typeof s||function(e,t){for(var r=e;r;)if((r=Object.getPrototypeOf(r))&&r===t)return!0;return!1}(s,o.Component)?s:s(n),e},{}),w({},n,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var r=this.constructor,n=r.attrs,s=r.componentStyle,i=(r.warnTooManyClasses,this.context[V]||de.master);if(s.isStatic&&void 0===n)return s.generateAndInjectStyles(je,i);var o=this.buildExecutionContext(e,t);return s.generateAndInjectStyles(o,i)},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,r=this.context[ke];if(t.isStatic){var n=this.generateAndInjectStyles(je,this.props);this.setState({generatedClassName:n})}else if(void 0!==r){var s=r.subscribe;this.unsubscribeId=s(function(t){var r=ge(e.props,t,e.constructor.defaultProps),n=e.generateAndInjectStyles(r,e.props);e.setState({theme:r,generatedClassName:n})})}else{var i=this.props.theme||U,o=this.generateAndInjectStyles(i,this.props);this.setState({theme:i,generatedClassName:o})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState(function(r){var n=ge(e,r.theme,t.constructor.defaultProps);return{theme:n,generatedClassName:t.generateAndInjectStyles(n,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this.props.innerRef,t=this.state.generatedClassName,r=this.constructor,n=r.styledComponentId,s=r.target,i=xe(s),a=[this.props.className,n,this.attrs.className,t].filter(Boolean).join(" "),u=w({},this.attrs,{className:a});z(s)?u.innerRef=e:u.ref=e;var c=u,l=void 0;for(l in this.props)"innerRef"===l||"className"===l||i&&!Se(l)||(c[l]="style"===l&&l in this.attrs?w({},this.attrs[l],this.props[l]):this.props[l]);return Object(o.createElement)(s,c)},t}(o.Component);function Le(e){for(var t,r=0|e.length,n=0|r,s=0;r>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),r-=4,++s;switch(r){case 3:n^=(255&e.charCodeAt(s+2))<<16;case 2:n^=(255&e.charCodeAt(s+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(s)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}var De=W,Ne=function e(t,r){for(var n=0,s=t.length;n<s;n+=1){var i=t[n];if(Array.isArray(i)&&!e(i))return!1;if("function"==typeof i&&!z(i))return!1}if(void 0!==r)for(var o in r)if("function"==typeof r[o])return!1;return!0},$e=void 0!==n&&n.hot&&!1,Ue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Be=function(e){var t="function"==typeof e&&!(e.prototype&&"isReactComponent"in e.prototype),r=z(e)||t,n=function(t){function n(){var e,r;v(this,n);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return e=r=T(this,t.call.apply(t,[this].concat(i))),r.state=U,r.unsubscribeId=-1,T(r,e)}return x(n,t),n.prototype.componentWillMount=function(){var e=this,t=this.constructor.defaultProps,r=this.context[ke],n=ge(this.props,void 0,t);if(void 0===r&&void 0!==n)this.setState({theme:n});else{var s=r.subscribe;this.unsubscribeId=s(function(r){var n=ge(e.props,r,t);e.setState({theme:n})})}},n.prototype.componentWillReceiveProps=function(e){var t=this.constructor.defaultProps;this.setState(function(r){return{theme:ge(e,r.theme,t)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[ke].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var t=w({theme:this.state.theme},this.props);return r||(t.ref=t.innerRef,delete t.innerRef),a.a.createElement(e,t)},n}(a.a.Component);return n.contextTypes=Me,n.displayName="WithTheme("+we(e)+")",n.styledComponentId="withTheme",p()(n,e)},qe={StyleSheet:de};var Ve=function(e,t,r){var n=function(t){return e(Le(t))};return function(){function e(t,r,n){if(v(this,e),this.rules=t,this.isStatic=!$e&&Ne(t,r),this.componentId=n,!de.master.hasId(n)){var s=[];de.master.deferredInject(n,s)}}return e.prototype.generateAndInjectStyles=function(e,s){var i=this.isStatic,o=this.componentId,a=this.lastClassName;if(De&&i&&void 0!==a&&s.hasNameForId(o,a))return a;var u=t(this.rules,e),c=n(this.componentId+u.join(""));return s.hasNameForId(o,c)||s.inject(this.componentId,r(u,"."+c),c),this.lastClassName=c,c},e.generateName=function(e){return n(e)},e}()}(D,E,j),We=function(e){return function t(r,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;if(!Object(g.isValidElementType)(n))throw new A(1,String(n));var i=function(){return r(n,s,e.apply(void 0,arguments))};return i.withConfig=function(e){return t(r,n,w({},s,e))},i.attrs=function(e){return t(r,n,w({},s,{attrs:w({},s.attrs||U,e)}))},i}}(B),He=function(e,t){return function r(n,s,i){var o=s.isClass,a=void 0===o?!xe(n):o,u=s.displayName,c=void 0===u?function(e){return xe(e)?"styled."+e:"Styled("+we(e)+")"}(n):u,l=s.componentId,h=void 0===l?function(e,t,r){var n="string"!=typeof t?"sc":be(t),s=(ze[n]||0)+1;ze[n]=s;var i=n+"-"+e.generateName(n+s);return void 0!==r?r+"-"+i:i}(e,s.displayName,s.parentComponentId):l,f=s.ParentComponent,d=void 0===f?Fe:f,m=s.rules,g=s.attrs,y=s.displayName&&s.componentId?be(s.displayName)+"-"+s.componentId:s.componentId||h,S=new e(void 0===m?i:m.concat(i),g,y),A=function(e){function o(){return v(this,o),T(this,e.apply(this,arguments))}return x(o,e),o.withComponent=function(e){var t=s.componentId,n=_(s,["componentId"]),a=t&&t+"-"+(xe(e)?e:be(we(e))),u=w({},n,{componentId:a,ParentComponent:o});return r(e,u,i)},b(o,null,[{key:"extend",get:function(){var e=s.rules,a=s.componentId,u=_(s,["rules","componentId"]),c=void 0===e?i:e.concat(i),l=w({},u,{rules:c,parentComponentId:a,ParentComponent:o});return t(r,n,l)}}]),o}(d);return A.attrs=g,A.componentStyle=S,A.contextTypes=Ie,A.displayName=c,A.styledComponentId=y,A.target=n,a&&p()(A,n,{attrs:!0,componentStyle:!0,displayName:!0,extend:!0,styledComponentId:!0,target:!0,warnTooManyClasses:!0,withComponent:!0}),A}}(Ve,We),Qe=function(e,t,r){return function(){var n=de.master,s=r.apply(void 0,arguments),i=e(Le(function(e){return e.replace(/\s|\\n/g,"")}(JSON.stringify(s)))),o="sc-keyframes-"+i;return n.hasNameForId(o,i)||n.inject(o,t(s,i,"@keyframes"),i),i}}(D,j,B),Xe=function(e,t){return function(){var r=de.master,n=t.apply(void 0,arguments),s="sc-global-"+Le(JSON.stringify(n));r.hasId(s)||r.inject(s,e(n))}}(j,B),Ge=function(e,t){var r=function(r){return t(e,r)};return Ue.forEach(function(e){r[e]=r(e)}),r}(He,We);t.default=Ge}.call(this,r(10),r(25)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},function(e,t,r){"use strict";
/** @license React v16.5.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(28),s="function"==typeof Symbol&&Symbol.for,i=s?Symbol.for("react.element"):60103,o=s?Symbol.for("react.portal"):60106,a=s?Symbol.for("react.fragment"):60107,u=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,l=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,f=s?Symbol.for("react.async_mode"):60111,d=s?Symbol.for("react.forward_ref"):60112;s&&Symbol.for("react.placeholder");var m="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,s,i,o,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,i,o,a],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||g}function b(){}function w(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&p("85"),this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=w.prototype=new b;x.constructor=w,n(x,v.prototype),x.isPureReactComponent=!0;var _={current:null,currentDispatcher:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var n=void 0,s={},o=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,n)&&!S.hasOwnProperty(n)&&(s[n]=t[n]);var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===s[n]&&(s[n]=u[n]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:_.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g,k=[];function O(e,t,r,n){if(k.length){var s=k.pop();return s.result=e,s.keyPrefix=t,s.func=r,s.context=n,s.count=0,s}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function P(e,t,r){return null==e?0:function e(t,r,n,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return n(s,t,""===r?"."+R(t,0):r),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+R(a=t[c],c);u+=e(a,l,n,s)}else if(l=null===t||"object"!=typeof t?null:"function"==typeof(l=m&&t[m]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(a=t.next()).done;)u+=e(a=a.value,l=r+R(a,c++),n,s);else"object"===a&&p("31","[object Object]"==(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return u}(e,"",t,r)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function I(e,t,r){var n=e.result,s=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,n,r,function(e){return e}):null!=e&&(E(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,s+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+r)),n.push(e))}function z(e,t,r,n,s){var i="";null!=r&&(i=(""+r).replace(C,"$&/")+"/"),P(e,I,t=O(t,i,n,s)),M(t)}var F={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return z(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;P(e,j,t=O(null,null,t,r)),M(t)},count:function(e){return P(e,function(){return null},null)},toArray:function(e){var t=[];return z(e,t,null,function(e){return e}),t},only:function(e){return E(e)||p("143"),e}},createRef:function(){return{current:null}},Component:v,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:l,_context:e},e.Consumer=e,e.unstable_read=function(e,t){var r=_.currentDispatcher;return null===r&&p("277"),r.readContext(e,t)}.bind(null,e),e},forwardRef:function(e){return{$$typeof:d,render:e}},Fragment:a,StrictMode:u,unstable_AsyncMode:f,unstable_Profiler:c,createElement:A,cloneElement:function(e,t,r){(null===e||void 0===e)&&p("267",e);var s=void 0,o=n({},e.props),a=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=_.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(s in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)T.call(t,s)&&!S.hasOwnProperty(s)&&(o[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}if(1===(s=arguments.length-2))o.children=r;else if(1<s){l=Array(s);for(var h=0;h<s;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:u,props:o,_owner:c}},createFactory:function(e){var t=A.bind(null,e);return t.type=e,t},isValidElement:E,version:"16.5.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:_,assign:n}},L={default:F},D=L&&F||L;e.exports=D.default||D},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))s.call(r,c)&&(a[c]=r[c]);if(n){o=n(r);for(var l=0;l<o.length;l++)i.call(r,o[l])&&(a[o[l]]=r[o[l]])}}return a}},function(e,t,r){"use strict";var n=r(30);function s(){}e.exports=function(){function e(e,t,r,s,i,o){if(o!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=s,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.5.0
 * react-is.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,s=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.placeholder"):60113;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case h:case o:case u:case a:return e;default:switch(e=e&&e.$$typeof){case l:case f:case c:return e;default:return t}}case i:return t}}}t.typeOf=m,t.AsyncMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=s,t.ForwardRef=f,t.Fragment=o,t.Profiler=u,t.Portal=i,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===u||e===a||e===d||"object"==typeof e&&null!==e&&("function"==typeof e.then||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f)},t.isAsyncMode=function(e){return m(e)===h},t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===u},t.isPortal=function(e){return m(e)===i},t.isStrictMode=function(e){return m(e)===a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(43)),i=r(46);const o=(e,t,r)=>{const n=t.addChild();for(const[t,{mesh:o,materials:a}]of Object.entries(e.components)){const e=(0,i.firstLetterToUpper)(t),u=s[e],c=n.addComponent(u);switch(e){case"Model":r.getResource(o,e=>{c.addMesh(e)});for(const e of a)r.getResource(e,e=>{c.addMaterial(e)})}}for(const[t,r]of Object.entries(e.transform))n.transform[t]=r;e.nodes.forEach(e=>{o(e,n,r)})};t.default=class extends n.default{constructor(){super(),this.scene=this}buildFromResource(e,t){const{data:r}=e;r.nodes.forEach(e=>{o(e,this,t)})}remove(){const{children:e,components:t}=this;for(;e.length>0;)e[e.length-1].remove();for(;t.length>0;)t[t.length-1].remove();this.scene=null,this.parent=null,this.transform.node=null,this.transform=null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);class s{constructor(e,t){this.scene=e||null,this.parent=t||null,this.transform=new n.Transform(this),this.children=[],this.components=[]}addChild(){const e=new s(this.scene,this);return this.children.push(e),e}removeChild(e){e.scene=null,e.parent=null,this.children.splice(this.children.indexOf(e),1)}addComponent(e){const t=new e(this);return this.components.push(t),t}removeComponent(e){e.node=null,this.components.splice(this.components.indexOf(e),1)}update(){this.transform.update();for(const e of this.children)e.update();for(const e of this.components)e.update()}remove(){const{children:e,components:t}=this;for(;e.length>0;)e[e.length-1].remove();for(;t.length>0;)t[t.length-1].remove();this.scene=null,this.parent=null,this.transform.node=null,this.transform=null,this.parent.removeChild(this)}walkEnabled(e){e(this);for(const t of this.children)t.walkEnabled(e)}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GeometryBatch=class{constructor(e,t,r){this.geometry=e||null,this.material=t||null,this.worldTransforms=[r]}};t.LightBatch=class{constructor(e,t,r,n,s,i,o){this.type=e||null,this.color=[t],this.range=[r],this.diffuseStrength=[n],this.specularStrength=[s],this.shininess=[i],this.worldTransforms=[o]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=class{constructor(e){this.node=e||null,this._targetTranslation=null,this._targetRotation=null,this._targetScale=null,this._origin=n.Vec3.zero,this._rotateAroundOrigin=!1,this._localTranslation=n.Vec3.zero,this._localScale=n.Vec3.one,this._localRotation=n.Quat.identity,this._localTransformUnscaled=n.Mat4.identity,this._localTransform=n.Mat4.identity,this._worldTransformUnscaled=n.Mat4.identity,this._worldTransform=n.Mat4.identity,this._worldTransformDirty=!0}translateTo(e){this._targetTranslation=this._targetTranslation?this._targetTranslation.add(e):this._localTranslation.add(e)}rotateTo(e){this._targetRotation=this._targetRotation?this._targetRotation.mul(e):this._localRotation.mul(e)}get right(){const{m00:e,m10:t,m20:r}=this.worldTransform;return new n.Vec3(e,t,r)}get up(){const{m01:e,m11:t,m21:r}=this.worldTransform;return new n.Vec3(e,t,r)}get forward(){const{m02:e,m12:t,m22:r}=this.worldTransform;return new n.Vec3(e,t,r)}set translation(e){this.setWorldTransformDirty(),this._localTranslation=new n.Vec3(e.x,e.y,e.z)}set rotation(e){this.setWorldTransformDirty(),this._localRotation=new n.Quat(e.w,e.x,e.y,e.z)}set scale(e){this.setWorldTransformDirty(),this._localScale=new n.Vec3(e.x,e.y,e.z)}set origin(e){this._rotateAroundOrigin=0!==e.lenSqrt,this._origin=e}get translation(){return this._targetTranslation||this._localTranslation}get rotation(){return this._localRotation}get scale(){return this._localScale}get origin(){return this._origin}get worldTransform(){return this._worldTransformDirty&&this.updateWorldTransform(),this._worldTransform.clone}get worldTransformUnscaled(){return this._worldTransformDirty&&this.updateWorldTransform(),this._worldTransformUnscaled.clone}translate(e){this.setWorldTransformDirty(),this._localTranslation=this._localTranslation.add(e)}rotate(e){this.setWorldTransformDirty(),this._localRotation=this._localRotation.mul(e)}setWorldTransformDirty(){this._worldTransformDirty||this.node.walkEnabled(e=>{e.transform._worldTransformDirty=!0})}updateLocalTransform(){const e=n.Mat4.identity,t=this._localTranslation,r=this._localRotation.toMat3,s=this._localScale;if(e.m00=r.m00,e.m01=r.m01,e.m02=r.m02,e.m10=r.m10,e.m11=r.m11,e.m12=r.m12,e.m20=r.m20,e.m21=r.m21,e.m22=r.m22,this._rotateAroundOrigin){const{x:n,y:s,z:i}=this._origin;e.m30=n*r.m00+s*r.m10+i*r.m20+t.x,e.m31=n*r.m01+s*r.m11+i*r.m21+t.y,e.m32=n*r.m02+s*r.m12+i*r.m22+t.z}else e.m30=t.x,e.m31=t.y,e.m32=t.z;this._localTransformUnscaled=e.clone,e.m00*=s.x,e.m01*=s.x,e.m02*=s.x,e.m10*=s.y,e.m11*=s.y,e.m12*=s.y,e.m20*=s.z,e.m21*=s.z,e.m22*=s.z,this._localTransform=e}updateWorldTransform(){this.updateLocalTransform(),this.node.parent?(this._worldTransformUnscaled=this.node.parent.transform.worldTransformUnscaled.mul(this._localTransformUnscaled),this._worldTransform=this.node.parent.transform.worldTransformUnscaled.mul(this._localTransform)):(this._worldTransformUnscaled=this._localTransformUnscaled.clone,this._worldTransform=this._localTransform.clone),this._worldTransformDirty=!1}update(){let e=!1;this._targetTranslation&&(e=!0,this._localTranslation=this._localTranslation.lerp(this._targetTranslation,.1),this._targetTranslation.sub(this._localTranslation).lenSqrt<1e-6&&(this._localTranslation=this._targetTranslation,this._targetTranslation=null)),this._targetRotation&&(e=!0,this._localRotation=this._localRotation.lerp(this._targetRotation,.1),this._targetRotation.dot(this._targetRotation)<1e-6&&(this._localRotation=this._targetRotation,this._targetRotation=null)),e&&this.setWorldTransformDirty()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static get white(){return new n(1,1,1)}static get red(){return new n(1,0,0)}static get green(){return new n(0,1,0)}static get blue(){return new n(0,0,1)}static get black(){return new n(0,0,0)}static fromArray(e){return new n(...e)}static fromHex(e){return new n(...[e.slice(2,4),e.slice(4,6),e.slice(6,8)].map(e=>parseInt(e,16)/255))}constructor(e,t,r){this.r=e||0,this.g=t||0,this.b=r||0}get copy(){return new n(this.r,this.g,this.b)}get toArray(){return[this.r,this.g,this.b]}get toHex(){return`0x${[(255*this.r).toString(16),(255*this.g).toString(16),(255*this.b).toString(16)].map(e=>e.length<2?`'0'${e}`:e).join("")}`}}t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const{sqrt:n}=Math;class s{static get zero(){return new s(0,0)}static get up(){return new s(0,1)}static get down(){return new s(0,-1)}static get left(){return new s(-1,0)}static get right(){return new s(1,0)}static fromArray(e){return new s(...e)}constructor(e,t){this.x=e||0,this.y=t||0}get toArray(){return[this.x,this.y]}get toFloat32Array(){return new Float32Array([this.x,this.y])}get clone(){return new s(this.x,this.y)}get len(){return n(this.x*this.x+this.y*this.y)}get lenSqrt(){return this.x*this.x+this.y*this.y}get normalize(){let e=n(this.x*this.x+this.y*this.y);return e>0?(e=1/e,new s(this.x*e,this.y*e)):new s(0,0)}add(e){return new s(this.x+e.x,this.y+e.y)}sub(e){return new s(this.x-e.x,this.y-e.y)}scale(e){return new s(this.x*e,this.y*e)}dot(e){return this.x*e.x+this.y*e.y}getAngle(e){return this.normalize.dot(e.normalize)}invert(){return new s(-this.x,-this.y)}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const{sqrt:n}=Math;class s{static get zero(){return new s(0,0,0)}static get up(){return new s(0,1,0)}static get down(){return new s(0,-1,0)}static get left(){return new s(-1,0,0)}static get right(){return new s(1,0,0)}static get forward(){return new s(0,0,1)}static get backward(){return new s(0,0,-1)}static get one(){return new s(1,1,1)}static fromArray(e){return new s(...e)}static fromQuat(e){const t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,u=e.w,c=u*t+o*n-a*r,l=u*r+a*t-i*n,h=u*n+i*r-o*t,f=-i*t-o*r-a*n;return new s(c*u+f*-i+l*-a-h*-o,l*u+f*-o+h*-i-c*-a,h*u+f*-a+c*-o-l*-i)}static fromMat4(e){return new s(e.a14+e.a11*this.x+e.a12*this.y+e.a13*this.z,e.a24+e.a21*this.x+e.a22*this.y+e.a23*this.z,e.a34+e.a31*this.x+e.a32*this.y+e.a33*this.z)}constructor(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}get forward(){return this.normalize}get backward(){return this.normalize.invert}get left(){return this.normalize.cross(s.up).normalize}get right(){return this.normalize.cross(s.up).normalize.invert}get down(){return this.normalize.cross(this.left).normalize}get up(){return this.normalize.cross(this.left).normalize.invert}get toArray(){return[this.x,this.y,this.z]}get toFloat32Array(){return new Float32Array([this.x,this.y,this.z])}get clone(){return new s(this.x,this.y,this.z)}get len(){return n(this.x*this.x+this.y*this.y+this.z*this.z)}get lenSqrt(){return this.x*this.x+this.y*this.y+this.z*this.z}get normalize(){let e=n(this.x*this.x+this.y*this.y+this.z*this.z);return e>0?(e=1/e,new s(this.x*e,this.y*e,this.z*e)):new s(0,0,0)}get invert(){return new s(-this.x,-this.y,-this.z)}add(e){return new s(this.x+e.x,this.y+e.y,this.z+e.z)}sub(e){return new s(this.x-e.x,this.y-e.y,this.z-e.z)}scale(e){return new s(this.x*e,this.y*e,this.z*e)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){return new s(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}lerp(e,t){return new s(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t,this.z+(e.z-this.z)*t)}getNormal(e,t){return this.sub(e).cross(this.sub(t)).normalize}getAngle(e){return this.normalize.dot(e.normalize)}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);const{sqrt:s}=Math;class i{static get identity(){return new i(1,0,0,0,1,0,0,0,1)}static fromArray(e){return new i(...e)}constructor(e,t,r,n,s,i,o,a,u){this.m00=e,this.m01=t,this.m02=r,this.m10=n,this.m11=s,this.m12=i,this.m20=o,this.m21=a,this.m22=u}get clone(){return new i(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}get toArray(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22]}get toFloat32Array(){return new Float32Array([this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22])}get toMat4(){return new n.Mat4(this.m00,this.m01,this.m02,0,this.m10,this.m11,this.m12,0,this.m20,this.m21,this.m22,0,0,0,0,1)}get toQuat(){const e=this.m00+this.m11+this.m22;let t;return e>0?(t=.5/s(e+1),new n.Quat(.25/t,(this.m21-this.m12)*t,(this.m02-this.m20)*t)):this.m00>this.m11&&this.m00>this.m22?(t=2*s(1+this.m00-this.m11-this.m22),new n.Quat((this.m21-this.m12)/t,.25*t,(this.m01+this.m10)/t,(this.m02+this.m20)/t)):this.m11>this.m22?(t=2*s(1+this.m11-this.m00-this.m22),new n.Quat((this.m02-this.m20)/t,(this.m01+this.m10)/t,.25*t,(this.m12+this.m21)/t)):(t=2*s(1+this.m22-this.m00-this.m11),new n.Quat((this.m10-this.m01)/t,(this.m02+this.m20)/t,(this.m12+this.m21)/t))}get invert(){const{m00:e,m01:t,m02:r,m10:n,m11:s,m12:o,m20:a,m21:u,m22:c}=this,l=c*s-o*u,h=-c*n+o*a,f=u*n-s*a;let d=e*l+t*h+r*f;if(0===d)throw new Error(`Cannot invert matrix ${this}`);return new i(l*(d=1/d),(-c*t+r*u)*d,(o*t-r*s)*d,h*d,(c*e-r*a)*d,(-o*e+r*n)*d,f*d,(-u*e+t*a)*d,(s*e-t*n)*d)}get transpose(){return new i(this.m00,this.m10,this.m20,this.m01,this.m11,this.m21,this.m02,this.m12,this.m22)}multiplyVector(e){return new i(this.m00*e.x+this.m01*e.y+this.m02*e.z,this.m10*e.x+this.m11*e.y+this.m12*e.z,this.m20*e.x+this.m21*e.y+this.m22*e.z)}add(e){return new i(this.m00+e.m00,this.m01+e.m01,this.m02+e.m02,this.m10+e.m10,this.m11+e.m11,this.m12+e.m12,this.m20+e.m20,this.m21+e.m21,this.m22+e.m22)}sub(e){return new i(this.m00-e.m00,this.m01-e.m01,this.m02-e.m02,this.m10-e.m10,this.m11-e.m11,this.m12-e.m12,this.m20-e.m20,this.m21-e.m21,this.m22-e.m22)}mul(e){const t=this.m00,r=this.m01,n=this.m02,s=this.m10,o=this.m11,a=this.m12,u=this.m20,c=this.m21,l=this.m22,h=e.m00,f=e.m01,d=e.m02,m=e.m10,p=e.m11,g=e.m12,y=e.m20,v=e.m21,b=e.m22;return new i(t*h+r*m+n*y,t*f+r*p+n*v,t*d+r*g+n*b,s*h+o*m+a*y,s*f+o*p+a*v,s*d+o*g+a*b,u*h+c*m+l*y,u*f+c*p+l*v,u*d+c*g+l*b)}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);const{sin:s,cos:i,tan:o}=Math;class a{static get identity(){return new a(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}static fromArray(e){return new a(...e)}static perspective(e,t,r,n){const s=1/o(e/2),i=1/(r-n);return new a(s/t,0,0,0,0,s,0,0,0,0,(r+n)*i,-1,0,0,r*n*i*2,0)}static orthographic(e,t,r,n,s,i){const o=1/(e-t),u=1/(r-n),c=1/(s-i);return new a(2*o,0,0,0,0,2*u,0,0,0,0,2*c,0,(e+t)*o,(n+r)*u,(i+s)*c,1)}static translate(e,t,r){return new a(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1)}static rotateX(e){const t=i(e),r=s(e);return new a(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1)}static rotateY(e){const t=i(e),r=s(e);return new a(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1)}static rotateZ(e){const t=i(e),r=s(e);return new a(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}static scale(e,t,r){return new a(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}constructor(e,t,r,n,s,i,o,a,u,c,l,h,f,d,m,p){this.m00=e||0,this.m01=t||0,this.m02=r||0,this.m03=n||0,this.m10=s||0,this.m11=i||0,this.m12=o||0,this.m13=a||0,this.m20=u||0,this.m21=c||0,this.m22=l||0,this.m23=h||0,this.m30=f||0,this.m31=d||0,this.m32=m||0,this.m33=p||0}get clone(){return new a(this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33)}get toArray(){return[this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33]}get toFloat32Array(){return new Float32Array([this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33])}get toMat3(){return new n.Mat3(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}get toQuat(){return this.toMat3.toQuat}get invert(){const{m00:e,m01:t,m02:r,m03:n,m10:s,m11:i,m12:o,m13:u,m20:c,m21:l,m22:h,m23:f,m30:d,m31:m,m32:p,m33:g}=this,y=i*h*g-i*f*p-l*o*g+l*u*p+m*o*f-m*u*h,v=-s*h*g+s*f*p+c*o*g-c*u*p-d*o*f+d*u*h,b=s*l*g-s*f*m-c*i*g+c*u*m+d*i*f-d*u*l,w=-s*l*p+s*h*m+c*i*p-c*o*m-d*i*h+d*o*l;let x=e*y+t*v+r*b+n*w;if(0===x)throw new Error(`Cannot invert matrix ${this}`);return new a((x=1/x)*y,x*-t*h*g+t*f*p+l*r*g-l*n*p-m*r*f+m*n*h,x*t*o*g-t*u*p-i*r*g+i*n*p+m*r*u-m*n*o,x*-t*o*f+t*u*h+i*r*f-i*n*h-l*r*u+l*n*o,x*v,x*e*h*g-e*f*p-c*r*g+c*n*p+d*r*f-d*n*h,x*-e*o*g+e*u*p+s*r*g-s*n*p-d*r*u+d*n*o,x*e*o*f-e*u*h-s*r*f+s*n*h+c*r*u-c*n*o,x*b,x*-e*l*g+e*f*m+c*t*g-c*n*m-d*t*f+d*n*l,x*e*i*g-e*u*m-s*t*g+s*n*m+d*t*u-d*n*i,x*-e*i*f+e*u*l+s*t*f-s*n*l-c*t*u+c*n*i,x*w,x*e*l*p-e*h*m-c*t*p+c*r*m+d*t*h-d*r*l,x*-e*i*p+e*o*m+s*t*p-s*r*m-d*t*o+d*r*i,x*e*i*h-e*o*l-s*t*h+s*r*l+c*t*o-c*r*i)}get transpose(){return new a(this.m00,this.m10,this.m20,this.m30,this.m01,this.m11,this.m21,this.m31,this.m02,this.m12,this.m22,this.m32,this.m03,this.m13,this.m23,this.m33)}get translation(){return new n.Vec3(this.m30,this.m31,this.m32)}get scale(){return new n.Vec3(new n.Vec3(this.m00,this.m10,this.m20).len,new n.Vec3(this.m01,this.m11,this.m21).len,new n.Vec3(this.m02,this.m12,this.m22).len)}get rotation(){return new n.Mat3(this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,this.m20,this.m21,this.m22)}lookAt(e,t){const r=this.sub(e).normalize,n=t.cross(r),s=r.cross(n);return new a(n.x,n.y,n.z,0,s.x,s.y,s.z,0,r.x,r.y,r.z,0,this.x,this.y,this.z,1)}add(e){return new a(this.m00+e.m00,this.m01+e.m01,this.m02+e.m02,this.m03+e.m03,this.m10+e.m10,this.m11+e.m11,this.m12+e.m12,this.m13+e.m13,this.m20+e.m20,this.m21+e.m21,this.m22+e.m22,this.m23+e.m23,this.m30+e.m30,this.m31+e.m31,this.m32+e.m32,this.m33+e.m33)}sub(e){return new a(this.m00-e.m00,this.m01-e.m01,this.m02-e.m02,this.m03-e.m03,this.m10-e.m10,this.m11-e.m11,this.m12-e.m12,this.m13-e.m13,this.m20-e.m20,this.m21-e.m21,this.m22-e.m22,this.m23-e.m23,this.m30-e.m30,this.m31-e.m31,this.m32-e.m32,this.m33-e.m33)}mul(e){return new a(e.m00*this.m00+e.m01*this.m10+e.m02*this.m20+e.m03*this.m30,e.m00*this.m01+e.m01*this.m11+e.m02*this.m21+e.m03*this.m31,e.m00*this.m02+e.m01*this.m12+e.m02*this.m22+e.m03*this.m32,e.m00*this.m03+e.m01*this.m13+e.m02*this.m23+e.m03*this.m33,e.m10*this.m00+e.m11*this.m10+e.m12*this.m20+e.m13*this.m30,e.m10*this.m01+e.m11*this.m11+e.m12*this.m21+e.m13*this.m31,e.m10*this.m02+e.m11*this.m12+e.m12*this.m22+e.m13*this.m32,e.m10*this.m03+e.m11*this.m13+e.m12*this.m23+e.m13*this.m33,e.m20*this.m00+e.m21*this.m10+e.m22*this.m20+e.m23*this.m30,e.m20*this.m01+e.m21*this.m11+e.m22*this.m21+e.m23*this.m31,e.m20*this.m02+e.m21*this.m12+e.m22*this.m22+e.m23*this.m32,e.m20*this.m03+e.m21*this.m13+e.m22*this.m23+e.m23*this.m33,e.m30*this.m00+e.m31*this.m10+e.m32*this.m20+e.m33*this.m30,e.m30*this.m01+e.m31*this.m11+e.m32*this.m21+e.m33*this.m31,e.m30*this.m02+e.m31*this.m12+e.m32*this.m22+e.m33*this.m32,e.m30*this.m03+e.m31*this.m13+e.m32*this.m23+e.m33*this.m33)}}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);const{sin:s,cos:i,acos:o,abs:a,sqrt:u}=Math;class c{static get identity(){return new c(1,0,0,0)}static get up(){return new c(.707,.707,0,0)}static get down(){return new c(.707,-.707,0,0)}static get left(){return new c(.707,0,.707,0)}static get right(){return new c(.707,0,-.707,0)}static get backward(){return new c(0,0,1,0)}static get upsideDown(){return new c(0,0,0,1)}static get tiltLeft(){return new c(.707,0,0,.707)}static get tiltRight(){return new c(.707,0,0,-.707)}static fromArray(e){return new c(...e)}static fromEulers(e,t,r){const n=i(.5*t),o=i(.5*r),a=i(.5*e),u=s(.5*t),l=s(.5*r),h=s(.5*e);return new c(n*o*a-u*l*h,n*o*h+u*l*a,u*o*a+n*l*h,n*l*a-u*o*h).normalize}static fromAxisAngle(e,t){const r=1/e.len,n=s(t/2);return new c(i(t/2),n*e.x*r,n*e.y*r,n*e.z*r).normalize}static fromRotation(e,t){const r=e.add(t),n=e.cross(r),s=e.dot(r);return new c(s,n.x,n.y,n.z).normalize}constructor(e,t,r,n){this.w=e||0,this.x=t||0,this.y=r||0,this.z=n||0}get clone(){return new c(this.w,this.x,this.y,this.z)}get toArray(){return[this.w,this.x,this.y,this.z]}get toMat3(){const{w:e,x:t,y:r,z:s}=this,i=t*e,o=t*t,a=t*r,u=t*s,c=r*e,l=r*r,h=r*s,f=s*e,d=s*s;return new n.Mat3(1-2*(l+d),2*(a-f),2*(u+c),2*(a+f),1-2*(o+d),2*(h-i),2*(u-c),2*(h+i),1-2*(o+l))}get toMat4(){return this.toMat3.toMat4}get toEulers(){throw new Error("Quaternion toEuler not implemented")}get len(){return u(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)}get lenSqrt(){return this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z}get conjugate(){return new c(this.w,-this.x,-this.y,-this.z)}get normalize(){let e=u(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);return e>0?(e=1/e,new c(this.w*e,this.x*e,this.y*e,this.z*e)):new c(1,0,0,0)}get invert(){const e=1/this.len;return new c(this.w*e,-this.x*e,-this.y*e,-this.z*e)}mul(e){const t=this.w,r=this.x,n=this.y,s=this.z,i=e.w,o=e.x,a=e.y,u=e.z;return new c(t*i-r*o-n*a-s*u,r*i+t*o+n*u-s*a,n*i+t*a+s*o-r*u,s*i+t*u+r*a-n*o).normalize}dot(e){return this.w*e.w+this.x*e.x+this.y*e.y+this.z*e.z}cross(e){throw new Error(`Quaternion cross not implemented ${e}`)}scaleRotation(e){const t=o(this.w)*e,r=new n.Vec3(this.x,this.y,this.z).scale(s(t));return new c(i(t),r.x,r.y,r.z)}lerp(e,t){return t>=1?e:this.scaleRotation(1-t).mul(e.scaleRotation(t))}nlerp(e,t){return this.lerp(e,t).normalize}slerp(e,t){if(t<=0)return this;if(t>=1)return e;let r=this.dot(e);if(a(r)>=1)return this;r<0&&(e.w=-e.w,e.x=-e.x,e.y=-e.y,e.z=-e.z,r=-r);const n=u(1-r*r);if(a(n)<.001)return new c(.5*(this.w+e.w),.5*(this.x+e.x),.5*(this.y+e.y),.5*(this.z+e.z)).normalize;const i=o(r),l=s((1-t)*i)/n,h=s(t*i)/n;return new c(this.w*l+e.w*h,this.x*l+e.x*h,this.y*l+e.y*h,this.z*l+e.z*h).normalize}}t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static linear(e){return e}static easeInQuad(e){return e*e}static easeOutQuad(e){return e*(2-e)}static easeInOutQuad(e){return e<.5?2*e*e:(4-2*e)*e-1}static easeInCubic(e){return e*e*e}static easeOutCubic(e){return(e-=1)*e*e+1}static easeInOutCubic(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}static easeInQuart(e){return e*e*e*e}static easeOutQuart(e){return 1-(e-=1)*e*e*e}static easeInOutQuart(e){return e<.5?8*e*e*e*e:1-8*(e-=1)*e*e*e}static easeInQuint(e){return e*e*e*e*e}static easeOutQuint(e){return 1+(e-=1)*e*e*e*e}static easeInOutQuint(e){return e<.5?16*e*e*e*e*e:1+16*(e-=1)*e*e*e*e}constructor(){throw new Error("You should not use Easing contructor...")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(44);Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return i(n).default}});var s=r(45);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return i(s).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(14));t.default=class extends n.default{constructor(e){super(e,"Model"),this.mesh=null,this.materials=[]}addMesh(e){this.mesh=e}addMaterial(e){this.materials.push(e)}getGeometries(){return this.mesh&&this.mesh.geometries||null}getMaterials(){return this.materials.length&&this.materials||null}update(){}remove(){this.node.removeComponent(this),this.mesh=null,this.materials.length=0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(14)),s=r(3),i=r(6),o=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}const{PI:u}=Math;t.default=class extends n.default{constructor(e){super(e,"Camera"),c.call(this),this.active=!0,this.inControl=!0;const t=window.innerWidth/window.innerHeight;this._perspective=s.Mat4.perspective(.25*u,t,.01,1e3),this._ortographic=s.Mat4.orthographic(-t,t,-1,1,.01,1e3),i.windowResizeEvent.subscribe(this.resize)}get view(){return this.node.transform.worldTransform}get perspective(){return this._perspective.clone}get ortographic(){return this._ortographic.clone}update(){if(!this.inControl)return;const e=o.default.getKeys(),t=e.includes("d")?.1:e.includes("a")?-.1:0,r=e.includes("e")?.1:e.includes("q")?-.1:0,n=e.includes("s")?.1:e.includes("w")?-.1:0;if(0!==t||0!==r||0!==n){const{transform:e}=this.node,s=e.forward.scale(n).add(e.right.scale(t)).add(e.up.scale(r));e.translateTo(s)}}remove(){this.node.removeComponent(this)}};var c=function(){this.resize=(({target:{innerWidth:e,innerHeight:t}})=>{const r=e/t;this._perspective=s.Mat4.perspective(.25*u,r,.01,1e3),this._ortographic=s.Mat4.orthographic(-r,r,-1,1,.01,1e3)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47);Object.defineProperty(t,"firstLetterToUpper",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(n).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e=>e.charAt(0).toUpperCase()+e.slice(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(49)),s=r(68);n.default.defaults.baseURL=`${window.location.origin}/api/glib`,n.default.defaults.headers.common.accept="image/png";const i=/^\.(?:obj|mtl|png|jpg|cnf|glsl)$/,o=e=>{if(!e)return new Error("No url defined.");const t=e.lastIndexOf(".");if(-1===t)return new Error(`No file extension in url. Url: ${e}`);const r=e.slice(t);return(e=>i.test(e))(r)?void 0:new Error(`Illegal file extension: ${r}`)},a=e=>{switch(e.slice(e.lastIndexOf("."))){case".obj":return new s.Mesh(e);case".mtl":return new s.Material(e);case".png":case".jpg":return new s.Texture(e);case".glsl":return new s.ShaderSource(e);case".cnf":return new s.SceneSource(e);default:throw new Error(`Unable to find resource with url: ${e}`)}};t.default=class{constructor(){this.cache=new Map,this.loadQueue=new Map,this.loading=!1,this.onLoadDone=null}getResource(e,t){const r=o(e);if(r)throw new Error(r);if(this.cache.has(e)){const r=this.cache.get(e);return t&&t(r),r}if(this.loadQueue.has(e)){const r=this.loadQueue.get(e);return t&&(r.callbacks.push(t),this.loadQueue.set(e,r)),r.resource}{const r=a(e),n=t?[t]:[];return this.loadQueue.set(r.url,{resource:r,callbacks:n}),this.loadNextResource(),r}}loadNextResource(){var e=this;return function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,i){try{var o=t[s](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}("next")})}}(function*(){if(e.loading)return;const t=e.loadQueue.values().next().value;if(!t)return void(e.onLoadDone&&e.onLoadDone());e.loading=!0;const{resource:r,callbacks:s}=t,i=yield n.default.get(r.url);e.loadQueue.delete(r.url),e.cache.set(r.url,r);const o=r.parse(i.data);o&&o(e),s.forEach(function(e){e(r)}),e.loading=!1,e.loadNextResource()})()}deleteResource(e){e.remove(),this.cache.delete(e.url),this.loadQueue.delete(e.url)}deleteAllResources(){this.loading=!0,this.cache.forEach(e=>{e.delete()}),this.loadQueue.forEach(e=>{e.delete()}),this.cache.clear(),this.loadQueue.clear(),this.loading=!1}}},function(e,t,r){e.exports=r(50)},function(e,t,r){"use strict";var n=r(1),s=r(15),i=r(52),o=r(7);function a(e){var t=new i(e),r=s(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(o);u.Axios=i,u.create=function(e){return a(n.merge(o,e))},u.Cancel=r(19),u.CancelToken=r(66),u.isCancel=r(18),u.all=function(e){return Promise.all(e)},u.spread=r(67),e.exports=u,e.exports.default=u},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(7),s=r(1),i=r(61),o=r(62);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=s.merge({url:arguments[0]},arguments[1])),(e=s.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},s.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,r){return this.request(s.merge(r||{},{method:e,url:t}))}}),s.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,r,n){return this.request(s.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=a},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(17);e.exports=function(e,t,r){var s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,s){return e.config=t,r&&(e.code=r),e.request=n,e.response=s,e}},function(e,t,r){"use strict";var n=r(1);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var o=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(s(t)+"="+s(e))}))}),i=o.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(1),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,o={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(o[t]&&s.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):o}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=s(window.location.href),function(t){var r=n.isString(t)?s(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(){this.message="String contains an invalid character"}s.prototype=new Error,s.prototype.code=5,s.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,i=String(e),o="",a=0,u=n;i.charAt(0|a)||(u="=",a%1);o+=u.charAt(63&t>>8-a%1*8)){if((r=i.charCodeAt(a+=.75))>255)throw new s;t=t<<8|r}return o}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,s,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(s)&&a.push("path="+s),n.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(1);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=s},function(e,t,r){"use strict";var n=r(1),s=r(63),i=r(18),o=r(7),a=r(64),u=r(65);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return c(e),t.data=s(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(19);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s(function(t){e=t}),cancel:e}},e.exports=s},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(69);Object.defineProperty(t,"Material",{enumerable:!0,get:function(){return u(n).default}});var s=r(70);Object.defineProperty(t,"Mesh",{enumerable:!0,get:function(){return u(s).default}});var i=r(71);Object.defineProperty(t,"SceneSource",{enumerable:!0,get:function(){return u(i).default}});var o=r(72);Object.defineProperty(t,"ShaderSource",{enumerable:!0,get:function(){return u(o).default}});var a=r(73);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return u(a).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(5));t.default=class extends n.default{constructor(e){super(e),this.shaderSource=null,this.shaderProgram=null,this.textures=new Map,this.defines=new Map}parse(e){return"object"!=typeof e&&JSON.parse(e),t=>{t.getResource(e.shaderSource,e=>{this.shaderSource=e});for(const t of e.defines)this.enableDefine(t,null);for(const r of e.textures){const{define:e,src:n,value:s}=r;t.getResource(n,t=>{this.addTexture(e,t)})}}}addTexture(e,t){this.textures.set(e,t)}getTextures(){const e=[];for(const t of this.textures)e.push(t);return e.length?e:null}enableDefine(e,t){this.defines.set(e,t)}getDefines(){const e=[];for(const t of this.defines)e.push(t);return e.length?e:null}remove(){this.shaderSource=null,this.shaderProgram=null,this.textures.clear(),this.defines.clear()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),s=a(r(5)),i=a(r(13)),o=r(3);function a(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const t=[];let r=0;return e.forEach(e=>{switch(e){case"a_position":t.push({name:"a_position",vertices:3,offset:r}),r+=12;break;case"a_texcoord":t.push({name:"a_texcoord",vertices:2,offset:r}),r+=8;break;case"a_normal":t.push({name:"a_normal",vertices:3,offset:r}),r+=12;break;case"a_tangent":t.push({name:"a_tangent",vertices:3,offset:r}),r+=12;break;case"a_bitangent":t.push({name:"a_bitangent",vertices:3,offset:r}),r+=12;break;default:throw new Error(`Unknown mesh attribute name: ${e}`)}}),t},c=e=>{let t=0;return e.forEach(e=>{switch(e){case"a_position":t+=12;break;case"a_texcoord":t+=8;break;case"a_normal":case"a_tangent":case"a_bitangent":t+=12;break;default:throw new Error(`Unknown mesh attribute: ${e}`)}}),t},l=(e,t,r)=>{let n=0;const s=r?9:6,o=/[a-z_]+(?:\.\w+)?/i;o.test(t[0])&&t.splice(0,1),e.push(new i.default(0,null));for(let r=0;r<t.length;r+=s)o.test(t[r])?(t.splice(r,1),e[e.length-1].vertexCount=3*n,e.push(new i.default(3*r,null)),n=0,r-=1):n+=1;e[e.length-1].vertexCount=3*n},h=(e,t,r,n)=>{if(t&&t.length>0)if(n){const n=t.length/2*3;for(let s=0;s<n;s+=9){const n=s/9;e.push(r[t[s+0]].getNormal(r[t[s+2]],r[t[s+4]])),t.splice(s+2,0,n),t.splice(s+5,0,n),t.splice(s+8,0,n)}}else{const n=2*t.length;for(let s=0;s<n;s+=6){const n=s/6;e.push(r[t[s+0]].getNormal(r[t[s+1]],r[t[s+2]])),t.splice(s+1,0,n),t.splice(s+3,0,n),t.splice(s+5,0,n)}}else{const t=r.length;for(let n=0;n<t;n+=3){const t=r[n+0].getNormal(r[n+1],r[n+2]);e.push(t,t,t)}}},f=(e,t,r,n,s)=>{const i=s.length/3*5;for(let a=0;a<i;a+=15){const i=r[s[a+0]],u=r[s[a+3]],c=r[s[a+6]],l=n[s[a+1]],h=n[s[a+4]],f=n[s[a+7]],d=u.x-i.x,m=c.x-i.x,p=u.y-i.y,g=c.y-i.y,y=u.z-i.z,v=c.z-i.z,b=h.x-l.x,w=f.x-l.x,x=h.y-l.y,_=f.y-l.y,T=1/(b*_-w*x),S=new o.Vec3((_*d-x*m)*T,(_*p-x*g)*T,(_*y-x*v)*T).normalize,A=new o.Vec3((b*m-w*d)*T,(b*g-w*p)*T,(b*v-w*y)*T).normalize;e.push(S),t.push(A);const E=a/15;s.splice(a+3,0,E,E),s.splice(a+8,0,E,E),s.splice(a+13,0,E,E)}},d=(e,t)=>{const r=n.gl.createBuffer();n.gl.bindBuffer(n.gl.ARRAY_BUFFER,r),n.gl.bufferData(n.gl.ARRAY_BUFFER,e,n.gl.STATIC_DRAW);const s=n.gl.createBuffer();return n.gl.bindBuffer(n.gl.ELEMENT_ARRAY_BUFFER,s),n.gl.bufferData(n.gl.ELEMENT_ARRAY_BUFFER,t,n.gl.STATIC_DRAW),{vertexBuffer:r,indiceBuffer:s}};t.default=class extends s.default{constructor(e){super(e),this.materialSources=[],this.geometries=[],this.attributes=[],this.vertexSize=null,this.vertexBuffer=null,this.indiceBuffer=null,this.vao=null}parse(e){const t=[],r=[],n=[],s=[],i=[],a=[],m=[],p=[],g=[],y=[],v=[],b=/^(\w+) (.+)$/gm,w=/-?\d+\.\d+/g,x=/\d+/g;let _="";if("object"==typeof e){const n=e.vertexData.length;for(let s=0;s<n;s+=2)t.push(e.vertexData[s+0]),r.push(e.vertexData[s+1]);a.push(...e.indices)}else{const s={v:e=>{t.push(new o.Vec3(...e[2].match(w).map(parseFloat)))},vt:e=>{r.push(new o.Vec2(...e[2].match(w).map(parseFloat)))},vn:e=>{n.push(new o.Vec3(...e[2].match(w).map(parseFloat)).normalize)},f:e=>{a.push(...e[2].match(x).map(e=>parseInt(e,10)-1))},g:e=>{a.push(e[2]),m.push(e[2])},"#":e=>{},o:e=>{},usemtl:e=>{},s:e=>{},mtllib:e=>{}};for(;_=b.exec(e);)try{s[_[1]](_)}catch(e){throw new Error("Failed at parsing mesh file row.",_,e)}}t.length&&g.push("a_position");const T=!!r.length;if(T&&g.push("a_texcoord"),n.length||h(n,a,t,T),g.push("a_normal"),l(p,a,T),p.forEach(e=>{e.mesh=this}),T&&(f(s,i,t,r,a),g.push("a_tangent","a_bitangent")),r){const e=a.length;for(let o=0;o<e;o+=5)y.push(...t[a[o+0]].toArray),y.push(...r[a[o+1]].toArray),y.push(...n[a[o+2]].toArray),y.push(...s[a[o+3]].toArray),y.push(...i[a[o+4]].toArray),v.push(o/5)}else{const e=a.length;for(let r=0;r<e;r+=2)y.push(...t[a[r+0]].toArray),y.push(...n[a[r+2]].toArray),v.push(r/2)}const S=d(new Float32Array(y),new Uint16Array(v));this.materialSources.push(...m.map(e=>e)),this.geometries=p,this.attributes=u(g),this.vertexSize=c(g),this.vertexBuffer=S.vertexBuffer,this.indiceBuffer=S.indiceBuffer}remove(){this.geometries.forEach(e=>{e.mesh=null}),this.geometries.length=0,this.attributes.length=0,n.gl.deleteBuffer(this.vertexBuffer),n.gl.deleteBuffer(this.indiceBuffer),n.gl.deleteBuffer(this.vao),this.vertexBuffer=null,this.indiceBuffer=null,this.vao=null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(5));t.default=class extends n.default{constructor(e){super(e),this.data=null}parse(e){this.data=e}remove(){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r(5));t.default=class extends s.default{constructor(e){super(e),this.data=null}parse(e){this.data=e}createModifiedSource(e,t){let r="#version 300 es\n";if(!e)throw new Error(`Type of shader is invalid: ${e}`);return r+=e===n.gl.VERTEX_SHADER?"#define VERTEX\n":"#define FRAGMENT\n",`${r+=t.map(([e,t])=>`#define ${e}${t?`=${t}\n`:"\n"}`).join("")}#line 1\n${this.data}`}remove(){this.data=null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r(5));const i=e=>{const t=e.width,r=e.height,s=n.gl.createTexture();return n.gl.bindTexture(n.gl.TEXTURE_2D,s),n.gl.texImage2D(n.gl.TEXTURE_2D,0,n.gl.RGBA,t,r,0,n.gl.RGBA,n.gl.UNSIGNED_BYTE,e),t&t-1==0&&r&r-1==0?n.gl.generateMipmap(n.gl.TEXTURE_2D):(n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_WRAP_S,n.gl.CLAMP_TO_EDGE),n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_WRAP_T,n.gl.CLAMP_TO_EDGE),n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_MIN_FILTER,n.gl.LINEAR)),s};t.default=class extends s.default{constructor(e){super(e),this.buffer=null}parse(e){const t=new Image;t.onload=(()=>{this.buffer=i(t)}),t.src=`data:image/png;base64,${e}`}remove(){n.gl.deleteBuffer(this.buffer),this.buffer=null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),s=r(12),i=function(e){return e&&e.__esModule?e:{default:e}}(r(75));new Map;t.default=class{constructor(e){e.getResource("def_colormap.default.png",e=>{this.defaultTexture=e}),e.getResource("def.default.mtl",e=>{this.defaultMaterial=e}),this.resourceManager=e,this.boundScene=null,this.boundCamera=null,this.boundShaderProgram=null,this.boundMesh=null,this.boundMaterial=null,this.shaderProgramCache=new Map}renderScene(e){const t=[];e.walkEnabled(e=>{e.components.forEach(e=>{switch(e.type){case"Model":this.queueRenderable(e,t);break;case"Camera":!this.boundCamera&&e.active&&(this.boundCamera=e)}})}),n.gl.clearColor(.4,.4,.4,1),n.gl.clear(n.gl.COLOR_BUFFER_BIT|n.gl.DEPTH_BUFFER_BIT),this.renderPass(e,t)}queueRenderable(e,t){if(!e.mesh)return;const r=e.getGeometries(),n=e.getMaterials();if(r&&n)for(let s=0;s<r.length;s+=1)this.queueGeometry(r[s],n[s],e.node.transform.worldTransform,t)}queueGeometry(e,t,r,n){for(const s of n)if(s.geometry===e&&s.material===t)return void s.worldTransforms.push(r);n.push(new s.GeometryBatch(e,t,r))}renderPass(e,t){n.gl.frontFace(n.gl.CCW),n.gl.enable(n.gl.CULL_FACE),n.gl.enable(n.gl.DITHER),n.gl.enable(n.gl.DEPTH_TEST),n.gl.depthMask(!0);for(const r of t){const{material:t,geometry:{mesh:s,vertexCount:i,vertexOffset:o}}=r;if(this.boundMaterial!==t){if(this.boundMaterial=t,this.bindShaderProgram(),!this.boundShaderProgram)continue;this.bindMesh(s),this.bindTextures(),this.bindScene(e),this.bindCamera()}this.drawIndividual(r,n.gl.TRIANGLES,i,n.gl.UNSIGNED_SHORT,o)}this.boundScene=null,this.boundCamera=null,this.boundShaderProgram=null,this.boundMesh=null,this.boundMaterial=null}bindShaderProgram(){const{boundMaterial:e}=this;if(e.shaderProgram)return this.boundShaderProgram=e.shaderProgram,void n.gl.useProgram(this.boundShaderProgram.program);let t=e.getDefines();if(t.length||(console.error(`Material ${e.src} is missing textures, added default colormap texture`),e.enableDefine("COLORMAP",1),e.addTexture("COLORMAP",this.defaultTexture),t=e.getDefines()),!e.shaderSource)return void(this.boundShaderProgram=null);const r=i.default.createShaderKey(e.shaderSource.url,t);let s=this.shaderProgramCache.get(r);s||((s=new i.default(r,e.shaderSource,t)).compileShaderProgram(),this.shaderProgramCache.set(s.key,s)),e.shaderProgram=s,this.boundShaderProgram=s,n.gl.useProgram(s.program)}bindMesh(e){if(this.boundMesh=e,e.vao)return void n.gl.bindVertexArray(e.vao);e.vao=n.gl.createVertexArray(),n.gl.bindVertexArray(e.vao),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,e.vertexBuffer),n.gl.bindBuffer(n.gl.ELEMENT_ARRAY_BUFFER,e.indiceBuffer);const t=this.boundShaderProgram.attributeLocations,{attributes:r,vertexSize:s}=e;for(const e of r){const{name:r,vertices:i,offset:o}=e;n.gl.enableVertexAttribArray(t[r]),n.gl.vertexAttribPointer(t[r],i,n.gl.FLOAT,!1,s,o)}}bindTextures(){const e=this.boundShaderProgram.uniformLocations,t=this.boundMaterial.getTextures()||[["COLORMAP",this.defaultTexture]];let r=0;for(const[s,i]of t){let t;switch(s){case"COLORMAP":t=e.u_color_texture;break;case"NORMALMAP":t=e.u_normal_texture;break;case"SPECULARMAP":t=e.u_specular_texture;break;default:throw new Error(`No texture of type ${s} has been specified. Implement!`)}n.gl.activeTexture(n.gl.TEXTURE0+r),n.gl.bindTexture(n.gl.TEXTURE_2D,i.buffer),n.gl.uniform1i(t,r++)}}bindScene(e){const{u_time:t}=this.boundShaderProgram.uniformLocations;n.gl.uniform1f(t,performance.now())}bindCamera(){const{boundCamera:e}=this,{u_view:t,u_perspectice:r,u_view_inverted:s}=this.boundShaderProgram.uniformLocations;n.gl.uniformMatrix4fv(t,!1,e.view.toFloat32Array),n.gl.uniformMatrix4fv(r,!1,e.perspective.toFloat32Array),n.gl.uniformMatrix4fv(s,!1,e.view.invert.toFloat32Array)}drawIndividual(e,t,r,s,i){const{u_model:o,u_model_rotation:a,u_mvp:u,u_normal_matrix:c}=this.boundShaderProgram.uniformLocations,{view:l,perspective:h}=this.boundCamera;for(const f of e.worldTransforms)n.gl.uniformMatrix3fv(c,!1,f.toMat3.mul(l.toMat3).invert.transpose.toFloat32Array),n.gl.uniformMatrix3fv(a,!1,f.toMat3.invert.transpose.toFloat32Array),n.gl.uniformMatrix4fv(o,!1,f.toFloat32Array),n.gl.uniformMatrix4fv(u,!1,h.mul(l.invert).mul(f).toFloat32Array),n.gl.drawElements(t,r,s,2*i)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.default=class{static createShaderKey(e,t){return`${e}:${t.map(([e,t])=>`${e}=${t}`).join(",")}`}constructor(e,t,r){this.key=e,this.defines=r,this.shaderSource=t,this.program=null,this.attributeLocations={},this.uniformLocations={}}compileShaderProgram(){if(!this.shaderSource)throw new Error("No shadersource in shaderprogram");this.createProgram(this.createShader(n.gl.VERTEX_SHADER),this.createShader(n.gl.FRAGMENT_SHADER)),this.getAttributeLocations(),this.getUniformLocations()}createShader(e){const t=this.shaderSource.createModifiedSource(e,this.defines),r=n.gl.createShader(e);if(n.gl.shaderSource(r,t),n.gl.compileShader(r),!n.gl.getShaderParameter(r,n.gl.COMPILE_STATUS))throw new Error(`Error while creating shaderprogram: ${n.gl.getShaderInfoLog(r)}`);return r}createProgram(e,t){const r=n.gl.createProgram();if(n.gl.attachShader(r,e),n.gl.attachShader(r,t),n.gl.linkProgram(r),!n.gl.getProgramParameter(r,n.gl.LINK_STATUS))throw new Error(`Error while linking program: ${n.gl.getProgramInfoLog(r)}`);this.program=r}getAttributeLocations(){const e={},t=n.gl.getProgramParameter(this.program,n.gl.ACTIVE_ATTRIBUTES);for(let r=0;r<t;r+=1){const t=n.gl.getActiveAttrib(this.program,r).name;e[t]=n.gl.getAttribLocation(this.program,t)}this.attributeLocations=e}getUniformLocations(){const e={},t=n.gl.getProgramParameter(this.program,n.gl.ACTIVE_UNIFORMS);for(let r=0;r<t;r+=1){const t=n.gl.getActiveUniform(this.program,r).name;e[t]=n.gl.getUniformLocation(this.program,t)}this.uniformLocations=e}remove(){}}}]);